







<!DOCTYPE html>
<html>
<head>
	<title>E - Laser Takahashi</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta http-equiv="Content-Language" content="ja">
	<meta name="viewport" content="width=device-width,initial-scale=1.0">
	<meta name="format-detection" content="telephone=no">
	<meta name="google-site-verification" content="nXGC_JxO0yoP1qBzMnYD_xgufO6leSLw1kyNo2HZltM" />

	
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-RC512FD18N"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());
		gtag('set', 'user_properties', {
			
				'login_status': 'logged_in',
			
		});
		gtag('config', 'G-RC512FD18N');
	</script>

	
	<meta name="description" content="プログラミング初級者から上級者まで楽しめる、競技プログラミングコンテストサイト「AtCoder」。オンラインで毎週開催プログラミングコンテストを開催しています。競技プログラミングを用いて、客観的に自分のスキルを計ることのできるサービスです。">
	<meta name="author" content="AtCoder Inc.">

	<meta property="og:site_name" content="AtCoder">
	
	<meta property="og:title" content="E - Laser Takahashi" />
	<meta property="og:description" content="プログラミング初級者から上級者まで楽しめる、競技プログラミングコンテストサイト「AtCoder」。オンラインで毎週開催プログラミングコンテストを開催しています。競技プログラミングを用いて、客観的に自分のスキルを計ることのできるサービスです。" />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="https://atcoder.jp/contests/abc442/tasks/abc442_e" />
	<meta property="og:image" content="https://img.atcoder.jp/assets/atcoder.png" />
	<meta name="twitter:card" content="summary" />
	<meta name="twitter:site" content="@atcoder" />
	
	<meta property="twitter:title" content="E - Laser Takahashi" />

	<link href="//fonts.googleapis.com/css?family=Lato:400,700" rel="stylesheet" type="text/css">
	<link rel="stylesheet" type="text/css" href="//img.atcoder.jp/public/ed350e7/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="//img.atcoder.jp/public/ed350e7/css/base.css">
	<link rel="shortcut icon" type="image/png" href="//img.atcoder.jp/assets/favicon.png">
	<link rel="apple-touch-icon" href="//img.atcoder.jp/assets/atcoder.png">
	<script src="//img.atcoder.jp/public/ed350e7/js/lib/jquery-1.9.1.min.js"></script>
	<script src="//img.atcoder.jp/public/ed350e7/js/lib/bootstrap.min.js"></script>
	<script src="//img.atcoder.jp/public/ed350e7/js/cdn/js.cookie.min.js"></script>
	<script src="//img.atcoder.jp/public/ed350e7/js/cdn/moment.min.js"></script>
	<script src="//img.atcoder.jp/public/ed350e7/js/cdn/moment_js-ja.js"></script>
	<script>
		var LANG = "ja";
		var userScreenName = "yamate11";
		var csrfToken = "xq/2/1/cd0OKZhkOMPzGHO28HpSv5GCbMjIXdzS6eNY="
	</script>
	<script src="//img.atcoder.jp/public/ed350e7/js/utils.js"></script>
	
	
		<script src="//img.atcoder.jp/public/ed350e7/js/contest.js"></script>
		<link href="//img.atcoder.jp/public/ed350e7/css/contest.css" rel="stylesheet" />
		<script>
			var contestScreenName = "abc442";
			var remainingText = "残り時間";
			var countDownText = "開始まであと";
			var startTime = moment("2026-01-24T21:00:00+09:00");
			var endTime = moment("2026-01-24T22:40:00+09:00");
		</script>
		<style></style>
	
	
		<link href="//img.atcoder.jp/public/ed350e7/css/cdn/select2.min.css" rel="stylesheet" />
		<link href="//img.atcoder.jp/public/ed350e7/css/cdn/select2-bootstrap.min.css" rel="stylesheet" />
		<script src="//img.atcoder.jp/public/ed350e7/js/lib/select2.min.js"></script>
	
	
		<script src="//img.atcoder.jp/public/ed350e7/js/ace/ace.js"></script>
		<script src="//img.atcoder.jp/public/ed350e7/js/ace/ext-language_tools.js"></script>
	
	
		<script src="//img.atcoder.jp/public/ed350e7/js/cdn/run_prettify.js"></script>
	
	
		<link rel="stylesheet" href="//img.atcoder.jp/public/ed350e7/css/cdn/katex.min.css">
		<script defer src="//img.atcoder.jp/public/ed350e7/js/cdn/katex.min.js"></script>
		<script defer src="//img.atcoder.jp/public/ed350e7/js/cdn/auto-render.min.js"></script>
		<script>$(function(){$('var').each(function(){var html=$(this).html().replace(/<sub>/g,'_{').replace(/<\/sub>/g,'}');$(this).html('\\('+html+'\\)');});});</script>
		<script>
			var katexOptions = {
				delimiters: [
					{left: "$$", right: "$$", display: true},
					
					{left: "\\(", right: "\\)", display: false},
					{left: "\\[", right: "\\]", display: true}
				],
      	ignoredTags: ["script", "noscript", "style", "textarea", "code", "option"],
				ignoredClasses: ["prettyprint", "source-code-for-copy"],
				throwOnError: false
			};
			document.addEventListener("DOMContentLoaded", function() { renderMathInElement(document.body, katexOptions);});
		</script>
	
	
	
	
	
	
	
	
	
	<script src="//img.atcoder.jp/public/ed350e7/js/base.js"></script>
</head>

<body>

<script type="text/javascript">
	var __pParams = __pParams || [];
	__pParams.push({client_id: '468', c_1: 'atcodercontest', c_2: 'ClientSite'});
</script>
<script type="text/javascript" src="https://cdn.d2-apps.net/js/tr.js" async></script>


<div id="modal-contest-start" class="modal fade" tabindex="-1" role="dialog">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h4 class="modal-title">コンテスト開始</h4>
			</div>
			<div class="modal-body">
				<p>JPRSプログラミングコンテスト2026#1（AtCoder Beginner Contest 442）が開始されました。</p>
			</div>
			<div class="modal-footer">
				
					<a class="btn btn-primary" href='/contests/abc442/tasks'>問題一覧ページへ移動</a>
				
			</div>
		</div>
	</div>
</div>
<div id="modal-contest-end" class="modal fade" tabindex="-1" role="dialog">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h4 class="modal-title">コンテスト終了</h4>
			</div>
			<div class="modal-body">
				<p>JPRSプログラミングコンテスト2026#1（AtCoder Beginner Contest 442）は終了しました。</p>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">閉じる</button>
			</div>
		</div>
	</div>
</div>
<div id="main-div" class="float-container">


	<nav class="navbar navbar-inverse navbar-fixed-top">
		<div class="container-fluid">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
					<span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="/home"></a>
			</div>
			<div class="collapse navbar-collapse" id="navbar-collapse">
				<ul class="nav navbar-nav">
				
					<li><a class="contest-title" href="/contests/abc442">JPRSプログラミングコンテスト2026#1（AtCoder Beginner Contest 442）</a></li>
				
				</ul>
				<ul class="nav navbar-nav navbar-right">
					
					<li class="dropdown">
						<a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
							<img src='//img.atcoder.jp/assets/top/img/flag-lang/ja.png'> 日本語 <span class="caret"></span>
						</a>
						<ul class="dropdown-menu">
							<li><a href="/contests/abc442/tasks/abc442_e?lang=ja"><img src='//img.atcoder.jp/assets/top/img/flag-lang/ja.png'> 日本語</a></li>
							<li><a href="/contests/abc442/tasks/abc442_e?lang=en"><img src='//img.atcoder.jp/assets/top/img/flag-lang/en.png'> English</a></li>
						</ul>
					</li>
					
					
						<li class="dropdown">
							<a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
								<span class="glyphicon glyphicon-cog" aria-hidden="true"></span> yamate11 (Contestant) <span class="caret"></span>
							</a>
							<ul class="dropdown-menu">
								<li><a href="/users/yamate11"><span class="glyphicon glyphicon-user" aria-hidden="true"></span> マイプロフィール</a></li>
								<li class="divider"></li>
								<li><a href="/settings"><span class="glyphicon glyphicon-wrench" aria-hidden="true"></span> 基本設定</a></li>
								<li><a href="/settings/icon"><span class="glyphicon glyphicon-picture" aria-hidden="true"></span> アイコン設定</a></li>
								<li><a href="/settings/password"><span class="glyphicon glyphicon-lock" aria-hidden="true"></span> パスワードの変更</a></li>
								<li><a href="/settings/fav"><span class="glyphicon glyphicon-star" aria-hidden="true"></span> お気に入り管理</a></li>
								
								
								
								<li class="divider"></li>
								<li><a href="javascript:void(form_logout.submit())"><span class="glyphicon glyphicon-log-out" aria-hidden="true"></span> ログアウト</a></li>
							</ul>
						</li>
					
				</ul>
			</div>
		</div>
	</nav>

	<form method="POST" name="form_logout" action="/logout?continue=https%3A%2F%2Fatcoder.jp%2Fcontests%2Fabc442%2Ftasks%2Fabc442_e">
		<input type="hidden" name="csrf_token" value="xq/2/1/cd0OKZhkOMPzGHO28HpSv5GCbMjIXdzS6eNY=" />
	</form>
	<div id="main-container" class="container"
		 	style="padding-top:50px;">
		


<div class="row">
	<div id="contest-nav-tabs" class="col-sm-12 mb-2 cnvtb-fixed">
	<div>
		<small class="contest-duration">
			
				コンテスト時間:
				<a href='http://www.timeanddate.com/worldclock/fixedtime.html?iso=20260124T2100&p1=248' target='blank'><time class='fixtime fixtime-full'>2026-01-24 21:00:00+0900</time></a> ~ <a href='http://www.timeanddate.com/worldclock/fixedtime.html?iso=20260124T2240&p1=248' target='blank'><time class='fixtime fixtime-full'>2026-01-24 22:40:00+0900</time></a> 
				(100分)
			
		</small>
		<small class="back-to-home pull-right"><a href="/home">AtCoderホームへ戻る</a></small>
	</div>
	<ul class="nav nav-tabs">
		<li><a href="/contests/abc442"><span class="glyphicon glyphicon-home" aria-hidden="true"></span> トップ</a></li>
		
			<li class="active"><a href="/contests/abc442/tasks"><span class="glyphicon glyphicon-tasks" aria-hidden="true"></span> 問題</a></li>
		

		
			<li><a href="/contests/abc442/clarifications"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span> 質問 <span id="clar-badge" class="badge" ></span></a></li>
		

		
			<li><a href="/contests/abc442/submit?taskScreenName=abc442_e"><span class="glyphicon glyphicon-send" aria-hidden="true"></span> 提出</a></li>
		

		
			<li>
				<a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false"><span class="glyphicon glyphicon-list" aria-hidden="true"></span> 提出結果<span class="caret"></span></a>
				<ul class="dropdown-menu">
					
					
						<li><a href="/contests/abc442/submissions/me"><span class="glyphicon glyphicon-user" aria-hidden="true"></span> 自分の提出</a></li>
						
						
							<li class="divider"></li>
							<li><a href="/contests/abc442/score"><span class="glyphicon glyphicon-dashboard" aria-hidden="true"></span> 自分の得点状況</a></li>
						
					
				</ul>
			</li>
		

		
			
				
					<li><a href="/contests/abc442/standings"><span class="glyphicon glyphicon-sort-by-attributes-alt" aria-hidden="true"></span> 順位表</a></li>
				
			
		

		
			<li><a href="/contests/abc442/custom_test"><span class="glyphicon glyphicon-wrench" aria-hidden="true"></span> コードテスト</a></li>
		

		
		

		<li class="pull-right"><a id="fix-cnvtb" href="javascript:void(0)"><span class="glyphicon glyphicon-pushpin" aria-hidden="true"></span></a></li>
	</ul>
</div>
	<div class="col-sm-12">
		<span class="h2">
			E - Laser Takahashi
			
		</span>
		<span id="task-lang-btn" class="pull-right"><span data-lang="ja"><img src='//img.atcoder.jp/assets/top/img/flag-lang/ja.png'></span> / <span data-lang="en"><img src='//img.atcoder.jp/assets/top/img/flag-lang/en.png'></span></span>
		<script>
			$(function() {
				var ts = $('#task-statement span.lang');
				if (ts.children('span').size() <= 1) {
					$('#task-lang-btn').hide();
					ts.children('span').show();
					return;
				}

				var REMEMBER_LB = 5;
				var LS_KEY = 'task_lang';
				var taskLang = getLS(LS_KEY) || '';
				function isTaskLangSet(taskLang) { return taskLang === 'ja' || taskLang === 'en';}
				if (isTaskLangSet(taskLang)) {
					const params = new URLSearchParams(window.location.search);
					if (params.get('lang')) {
						setLS(LS_KEY, REMEMBER_LB);
						taskLang = LANG;
					}
				} else {
					taskLang = LANG;
				}
				ts.children('span.lang-' + taskLang).show();

				$('#task-lang-btn span').click(function() {
					var l = $(this).data('lang');
					ts.children('span').hide();
					ts.children('span.lang-' + l).show();

					taskLang = getLS(LS_KEY) || '';
					let changeTimes = 0;
					if (isTaskLangSet(taskLang)) {
						changeTimes = REMEMBER_LB;
					} else {
						changeTimes = parseInt(taskLang, 10);
						if (isNaN(changeTimes)) changeTimes = 0;
						changeTimes++;
					}
					if (changeTimes < REMEMBER_LB) setLS(LS_KEY, changeTimes);
					else setLS(LS_KEY, l);
				});
			});
		</script>
		<hr/>
		<p>
			実行時間制限: 2 sec / メモリ制限: 1024 MiB
			
			
		</p>

		<div id="task-statement">
			

	<div class="alert alert-warning alert-dismissible fade in">
		<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		<p>2026/01/24 22:40:00 まで、問題の内容・感想・解法などをSNS上に投稿することは<a href="/contests/abc442/rules" target="_blank">ルール</a>に違反する行為です。</p>
		<p>どのような投稿がルールに違反するかはこちらの<a href="/posts/262" target="_blank">記事</a>もお読みください。</p>
	</div>




	<div class="alert alert-warning alert-dismissible fade in">
		<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		<p class="marked_warn_text">このコンテストでは、生成AIの使用を禁止しております。詳しくは以下のルールをご確認ください。

&lt;a href=&#34;https://info.atcoder.jp/entry/llm-rules-ja&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34; class=&#34;alert-link&#34;&gt;AtCoder生成AI対策ルール - 20251003版&lt;/a&gt;

詳しくは&lt;a href=&#34;https://atcoder.jp/posts/1567&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34; class=&#34;alert-link&#34;&gt;こちらの記事&lt;/a&gt;をご覧ください。</p>
	</div>
	<script src="//img.atcoder.jp/public/ed350e7/js/lib/marked.js"></script>
	<script>
		$(function() {
			$(".marked_warn_text").each(function() {
				$(this).html(marked($(this).text()));
			});
		})
	</script>

			<span class="lang">
<span class="lang-ja">
<p>配点 : <var>450</var> 点</p>

<div class="part">
<section>
<h3>問題文</h3><p>二次元平面上に <var>N</var> 体のモンスターがいます。
モンスターには <var>1</var> から <var>N</var> までの番号が付けられており、モンスター <var>i</var> がいる場所の座標は <var>(X_i,Y_i)</var> です。
ここで、<var>(X_i,Y_i) \neq (0,0)</var> です。
（なお、各モンスターは静止した点としてみなせるものとします。すなわち、モンスターは大きさを持ちません。）</p>
<p>この平面上の原点には高橋君が立っています。
高橋君の目からは強力なレーザーが常に照射されており、高橋君が向いている方向に存在するモンスターは即座に消滅します。
高橋君が向いている方向に複数のモンスターが存在する場合も、その全てが即座に消滅します。</p>
<p>青木君は、<var>Q</var> 個の <strong>独立な</strong> 思考実験を行なっています。
<var>j</var> 個目の思考実験は以下のようなものです。</p>
<ul>
<li>はじめ、高橋君はモンスター <var>A_j</var> がいる方向を向いている。今から高橋君は <strong>時計回り</strong> に回転を行い、モンスター <var>B_j</var> がいる方向を向いた瞬間に停止する。
このとき、（モンスター <var>A_j,B_j</var> を含め）合計で何体のモンスターが消滅するか？なお、モンスター <var>A_j,B_j</var> が原点から見て同じ方向に存在する場合、高橋君は一切回転しない。</li>
</ul>
<p>各思考実験に対する答えを求めてください。</p>
</section>
</div>

<div class="part">
<section>
<h3>制約</h3><ul>
<li><var>2\leq N \leq 2\times 10^5</var></li>
<li><var>1\leq Q \leq 2\times 10^5</var></li>
<li><var>-10^9\leq X_i,Y_i \leq 10^9</var></li>
<li><var>(X_i,Y_i)\neq (0,0)</var></li>
<li><var>1\leq A_j,B_j\leq N</var></li>
<li><var>A_j\neq B_j</var></li>
<li>入力は全て整数</li>
</ul>
</section>
</div>

<hr />
<div class="io-style">
<div class="part">
<section>
<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>
<pre><var>N</var> <var>Q</var>
<var>X_1</var> <var>Y_1</var>
<var>X_2</var> <var>Y_2</var>
<var>\vdots</var>
<var>X_N</var> <var>Y_N</var>
<var>A_1</var> <var>B_1</var>
<var>A_2</var> <var>B_2</var>
<var>\vdots</var>
<var>A_Q</var> <var>B_Q</var>
</pre>
</section>
</div>

<div class="part">
<section>
<h3>出力</h3><p><var>Q</var> 行出力せよ。
<var>j</var> 行目 <var>(1\leq j \leq Q)</var> には、<var>j</var> 個目の思考実験に対する答えを出力せよ。</p>
</section>
</div>
</div>

<hr />
<div class="part">
<section>
<h3>入力例 1</h3><pre>5 4
0 1
1 -2
1 0
-2 0
3 0
4 1
1 4
5 4
3 5
</pre>
</section>
</div>

<div class="part">
<section>
<h3>出力例 1</h3><pre>2
5
4
2
</pre>
<p><img src="https://img.atcoder.jp/abc442/ec8e15d827e64ccfdae57c4bad47cebc.png" width="450"></p>
<ul>
<li><var>1</var> 個目の思考実験：はじめ、高橋君はモンスター <var>4</var> がいる方向を向いています（このとき、モンスター <var>4</var> が消滅します）。
ここから時計回りに回転を続け、モンスター <var>1</var> がいる方向を向いた瞬間に停止します（このとき、モンスター <var>1</var> が消滅します）。
これら以外のモンスターがいる方向を向くことはないため、答えは <var>2</var> です。</li>
<li><var>2</var> 個目の思考実験：はじめ、高橋君はモンスター <var>1</var> がいる方向を向いています（このとき、モンスター <var>1</var> が消滅します）。
ここから時計回りに回転を続けると、途中モンスター <var>3,5</var> がいる方向を向くため、これらが消滅します。 
さらに回転を続けると、途中モンスター <var>2</var> がいる方向を向くため、これが消滅します。
最終的にモンスター <var>4</var> がいる方向を向いた瞬間に停止します（このとき、モンスター <var>4</var> が消滅します）。
よって、答えは <var>5</var> です。</li>
<li><var>3</var> 個目の思考実験：モンスター <var>3,5,2,4</var> が消滅するため、答えは <var>4</var> です。</li>
<li><var>4</var> 個目の思考実験：モンスター <var>3,5</var> が消滅するため、答えは <var>2</var> です。
なお、モンスター <var>3,5</var> は原点から見て同じ方向に存在するため、高橋君は一切回転しないことに注意してください。</li>
</ul>
</section>
</div>

<hr />
<div class="part">
<section>
<h3>入力例 2</h3><pre>2 1
1 2
1 2
1 2
</pre>
</section>
</div>

<div class="part">
<section>
<h3>出力例 2</h3><pre>2
</pre>
<p>同じ座標に複数のモンスターが存在することもあります。</p>
</section>
</div>

<hr />
<div class="part">
<section>
<h3>入力例 3</h3><pre>8 10
-84 -60
-100 8
77 55
-14 -10
50 -4
-63 -45
26 -17
-7 -5
3 7
2 4
8 4
8 4
7 1
1 7
6 3
4 7
4 5
2 6
</pre>
</section>
</div>

<div class="part">
<section>
<h3>出力例 3</h3><pre>3
8
4
4
5
8
6
8
7
8
</pre></section>
</div>
</span>
<span class="lang-en">
<p>Score : <var>450</var> points</p>

<div class="part">
<section>
<h3>Problem Statement</h3><p>There are <var>N</var> monsters on a two-dimensional plane.
The monsters are numbered from <var>1</var> to <var>N</var>, and the coordinates of monster <var>i</var> are <var>(X_i,Y_i)</var>.
Here, <var>(X_i,Y_i) \neq (0,0)</var>.
(Each monster can be regarded as a stationary point. That is, monsters have no size.)</p>
<p>Takahashi is standing at the origin of this plane.
A powerful laser is always emitted from his eyes, instantly destroying monsters in the direction he is facing.
If multiple monsters exist in the direction he is facing, all of them are instantly destroyed.</p>
<p>Aoki is conducting <var>Q</var> <strong>independent</strong> thought experiments.
The <var>j</var>-th thought experiment is as follows:</p>
<ul>
<li>Initially, Takahashi is facing the direction toward monster <var>A_j</var>. From now on, Takahashi will rotate <strong>clockwise</strong> and stop the moment he faces the direction toward monster <var>B_j</var>.
Here, how many monsters in total (including monsters <var>A_j</var> and <var>B_j</var>) will be destroyed? If monsters <var>A_j</var> and <var>B_j</var> exist in the same direction from the origin, Takahashi does not rotate at all.</li>
</ul>
<p>Find the answer to each thought experiment.</p>
</section>
</div>

<div class="part">
<section>
<h3>Constraints</h3><ul>
<li><var>2\leq N \leq 2\times 10^5</var></li>
<li><var>1\leq Q \leq 2\times 10^5</var></li>
<li><var>-10^9\leq X_i,Y_i \leq 10^9</var></li>
<li><var>(X_i,Y_i)\neq (0,0)</var></li>
<li><var>1\leq A_j,B_j\leq N</var></li>
<li><var>A_j\neq B_j</var></li>
<li>All input values are integers.</li>
</ul>
</section>
</div>

<hr />
<div class="io-style">
<div class="part">
<section>
<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>
<pre><var>N</var> <var>Q</var>
<var>X_1</var> <var>Y_1</var>
<var>X_2</var> <var>Y_2</var>
<var>\vdots</var>
<var>X_N</var> <var>Y_N</var>
<var>A_1</var> <var>B_1</var>
<var>A_2</var> <var>B_2</var>
<var>\vdots</var>
<var>A_Q</var> <var>B_Q</var>
</pre>
</section>
</div>

<div class="part">
<section>
<h3>Output</h3><p>Output <var>Q</var> lines.
The <var>j</var>-th line <var>(1\leq j \leq Q)</var> should contain the answer to the <var>j</var>-th thought experiment.</p>
</section>
</div>
</div>

<hr />
<div class="part">
<section>
<h3>Sample Input 1</h3><pre>5 4
0 1
1 -2
1 0
-2 0
3 0
4 1
1 4
5 4
3 5
</pre>
</section>
</div>

<div class="part">
<section>
<h3>Sample Output 1</h3><pre>2
5
4
2
</pre>
<p><img src="https://img.atcoder.jp/abc442/ec8e15d827e64ccfdae57c4bad47cebc.png" width="450"></p>
<ul>
<li><var>1</var>-st thought experiment: Initially, Takahashi is facing the direction toward monster <var>4</var> (at this time, monster <var>4</var> is destroyed).
From here, he continues to rotate clockwise and stops the moment he faces the direction toward monster <var>1</var> (at this time, monster <var>1</var> is destroyed).
Since he does not face the direction toward any other monsters, the answer is <var>2</var>.</li>
<li><var>2</var>-nd thought experiment: Initially, Takahashi is facing the direction toward monster <var>1</var> (at this time, monster <var>1</var> is destroyed).
From here, as he continues to rotate clockwise, he faces the direction toward monsters <var>3</var> and <var>5</var> along the way, so they are destroyed.
As he continues to rotate further, he faces the direction toward monster <var>2</var> along the way, so it is destroyed.
Finally, he stops the moment he faces the direction toward monster <var>4</var> (at this time, monster <var>4</var> is destroyed).
Therefore, the answer is <var>5</var>.</li>
<li><var>3</var>-rd thought experiment: Monsters <var>3, 5, 2, 4</var> are destroyed, so the answer is <var>4</var>.</li>
<li><var>4</var>-th thought experiment: Monsters <var>3, 5</var> are destroyed, so the answer is <var>2</var>.
Note that since monsters <var>3</var> and <var>5</var> exist in the same direction from the origin, Takahashi does not rotate at all.</li>
</ul>
</section>
</div>

<hr />
<div class="part">
<section>
<h3>Sample Input 2</h3><pre>2 1
1 2
1 2
1 2
</pre>
</section>
</div>

<div class="part">
<section>
<h3>Sample Output 2</h3><pre>2
</pre>
<p>Multiple monsters may exist at the same coordinates.</p>
</section>
</div>

<hr />
<div class="part">
<section>
<h3>Sample Input 3</h3><pre>8 10
-84 -60
-100 8
77 55
-14 -10
50 -4
-63 -45
26 -17
-7 -5
3 7
2 4
8 4
8 4
7 1
1 7
6 3
4 7
4 5
2 6
</pre>
</section>
</div>

<div class="part">
<section>
<h3>Sample Output 3</h3><pre>3
8
4
4
5
8
6
8
7
8
</pre></section>
</div>
</span>
</span>

		</div>

		

		
		<hr/>
		<form class="form-horizontal form-code-submit" action="/contests/abc442/submit" method="POST">
			<input type="hidden" name="data.TaskScreenName" value="abc442_e" />
			
			<div class="form-group ">
				<label class="control-label col-sm-3 col-md-2" for="select-lang">言語</label>
				<div id="select-lang" class="col-sm-5" data-name="data.LanguageId">
					<select class="form-control current" data-placeholder="-" name="data.LanguageId" required>
						<option></option>
						
							<option value="6001" data-ace-mode="text">&gt;&lt;&gt; (fishr 0.1.0)</option>
						
							<option value="6002" data-ace-mode="ada">Ada 2022 (GNAT 15.2.0)</option>
						
							<option value="6003" data-ace-mode="text">APL (GNU APL 1.9)</option>
						
							<option value="6004" data-ace-mode="mips">Assembly MIPS O32 ABI (GNU assembler 2.42)</option>
						
							<option value="6005" data-ace-mode="assembly_x86">Assembly x64 (NASM 2.16.03)</option>
						
							<option value="6006" data-ace-mode="text">AWK (GNU awk 5.2.1)</option>
						
							<option value="6007" data-ace-mode="text">A言語 (interpreter af48a2a)</option>
						
							<option value="6008" data-ace-mode="sh">Bash (bash 5.3)</option>
						
							<option value="6009" data-ace-mode="basic">BASIC (FreeBASIC 1.10.1)</option>
						
							<option value="6010" data-ace-mode="text">bc (GNU bc 1.08.2)</option>
						
							<option value="6011" data-ace-mode="text">Befunge93 (TBC 1.0)</option>
						
							<option value="6012" data-ace-mode="text">Brainfuck (Tritium 1.2.73)</option>
						
							<option value="6013" data-ace-mode="c_cpp">C23 (Clang 21.1.0)</option>
						
							<option value="6014" data-ace-mode="c_cpp">C23 (GCC 14.2.0)</option>
						
							<option value="6015" data-ace-mode="csharp">C# 13.0 (.NET 9.0.8)</option>
						
							<option value="6016" data-ace-mode="csharp">C# 13.0 (.NET Native AOT 9.0.8)</option>
						
							<option value="6017" data-ace-mode="c_cpp">C&#43;&#43;23 (GCC 15.2.0)</option>
						
							<option value="6018" data-ace-mode="text">C3 (c3c 0.7.5)</option>
						
							<option value="6019" data-ace-mode="text">Carp(Carp 0.5.5)</option>
						
							<option value="6020" data-ace-mode="c_cpp">cLay (cLay 20250308-1 (GCC 15.2.0))</option>
						
							<option value="6021" data-ace-mode="clojure">Clojure (babashka 1.12.208)</option>
						
							<option value="6022" data-ace-mode="clojure">Clojure (clojure 1.12.2)</option>
						
							<option value="6023" data-ace-mode="clojure">Clojure (Clojure AOT 1.12.2)</option>
						
							<option value="6025" data-ace-mode="clojure">Clojure (ClojureScript 1.12.42 (Clojure 1.12.2 Node.js 22.19.0))</option>
						
							<option value="6026" data-ace-mode="cobol">COBOL (Free) (GnuCOBOL 3.2)</option>
						
							<option value="6027" data-ace-mode="lisp">Common Lisp (SBCL 2.5.8)</option>
						
							<option value="6028" data-ace-mode="crystal">Crystal (Crystal 1.17.0)</option>
						
							<option value="6029" data-ace-mode="text">Cyber (Cyber v0.3)</option>
						
							<option value="6030" data-ace-mode="d">D (DMD 2.111.0)</option>
						
							<option value="6031" data-ace-mode="d">D (GDC 15.2)</option>
						
							<option value="6032" data-ace-mode="d">D (LDC 1.41.0)</option>
						
							<option value="6033" data-ace-mode="dart">Dart (Dart 3.9.2)</option>
						
							<option value="6034" data-ace-mode="text">dc 1.5.2 (GNU bc 1.08.2)</option>
						
							<option value="6035" data-ace-mode="prolog">ECLiPSe (ECLiPSe 7.1_13)</option>
						
							<option value="6036" data-ace-mode="eiffel">Eiffel (Gobo Eiffel 22.01)</option>
						
							<option value="6037" data-ace-mode="eiffel">Eiffel (Liberty Eiffel 07829e3)</option>
						
							<option value="6038" data-ace-mode="elixir">Elixir (Elixir 1.18.4 (OTP 28.0.2))</option>
						
							<option value="6039" data-ace-mode="lisp">Emacs Lisp(Native Compile)(GNU Emacs 29.4)</option>
						
							<option value="6040" data-ace-mode="text">Emojicode 1.0 beta 2 (emojicodec 1.0 beta 2)</option>
						
							<option value="6041" data-ace-mode="erlang">Erlang (Erlang 28.0.2)</option>
						
							<option value="6042" data-ace-mode="fsharp">F# 9.0 (.NET 9.0.8)</option>
						
							<option value="6043" data-ace-mode="text">Factor (Factor 0.100)</option>
						
							<option value="6044" data-ace-mode="sh">Fish (fish 4.0.2)</option>
						
							<option value="6045" data-ace-mode="forth">Forth (gforth 0.7.3)</option>
						
							<option value="6046" data-ace-mode="fortran">Fortran2018 (Flang 20.1.7)</option>
						
							<option value="6047" data-ace-mode="fortran">Fortran2023 (GCC 14.2.0)</option>
						
							<option value="6048" data-ace-mode="fortran">FORTRAN77 (GCC 14.2.0)</option>
						
							<option value="6049" data-ace-mode="text">Gleam (Gleam 1.12.0 (OTP 28.0.2))</option>
						
							<option value="6050" data-ace-mode="golang">Go 1.18 (gccgo 15.2.0)</option>
						
							<option value="6051" data-ace-mode="golang">Go (go 1.25.1)</option>
						
							<option value="6052" data-ace-mode="haskell">Haskell (GHC 9.8.4)</option>
						
							<option value="6053" data-ace-mode="haxe">Haxe/JVM 4.3.7 (hxjava 4.2.0)</option>
						
							<option value="6054" data-ace-mode="c_cpp">C&#43;&#43; IOI-Style(GNU&#43;&#43;20) (GCC 14.2.0)</option>
						
							<option value="6055" data-ace-mode="lisp">ISLisp (Easy-ISLisp 5.43)</option>
						
							<option value="6056" data-ace-mode="java">Java24 (OpenJDK 24.0.2)</option>
						
							<option value="6057" data-ace-mode="javascript">JavaScript (Bun 1.2.21)</option>
						
							<option value="6058" data-ace-mode="javascript">JavaScript (Deno 2.4.5)</option>
						
							<option value="6059" data-ace-mode="javascript">JavaScript (Node.js 22.19.0)</option>
						
							<option value="6060" data-ace-mode="text">Jule (jule 0.1.6)</option>
						
							<option value="6061" data-ace-mode="text">Koka (koka v3.2.2)</option>
						
							<option value="6062" data-ace-mode="kotlin">Kotlin (Kotlin/JVM 2.2.10)</option>
						
							<option value="6063" data-ace-mode="text">Kuin (kuincl v.2021.8.17)</option>
						
							<option value="6064" data-ace-mode="text">Lazy K (irori v1.0.0)</option>
						
							<option value="6065" data-ace-mode="text">Lean (lean v4.22.0)</option>
						
							<option value="6066" data-ace-mode="text">LLVM IR (Clang 21.1.0)</option>
						
							<option value="6067" data-ace-mode="lua">Lua (Lua 5.4.7)</option>
						
							<option value="6068" data-ace-mode="lua">Lua (LuaJIT 2.1.1703358377)</option>
						
							<option value="6069" data-ace-mode="text">Mercury (Mercury 22.01.8)</option>
						
							<option value="6071" data-ace-mode="nim">Nim (Nim 1.6.20)</option>
						
							<option value="6072" data-ace-mode="nim">Nim (Nim 2.2.4)</option>
						
							<option value="6073" data-ace-mode="ocaml">OCaml (ocamlopt 5.3.0)</option>
						
							<option value="6074" data-ace-mode="text">Octave (GNU Octave 10.2.0)</option>
						
							<option value="6075" data-ace-mode="pascal">Pascal (fpc 3.2.2)</option>
						
							<option value="6076" data-ace-mode="perl">Perl (perl 5.38.2)</option>
						
							<option value="6077" data-ace-mode="php">PHP (PHP 8.4.12)</option>
						
							<option value="6078" data-ace-mode="text">Piet (your-diary/piet_programming_language 3.0.0) (PPM image)</option>
						
							<option value="6079" data-ace-mode="text">Pony (ponyc 0.59.0)</option>
						
							<option value="6080" data-ace-mode="powershell">PowerShell (PowerShell 7.5.2)</option>
						
							<option value="6081" data-ace-mode="prolog">Prolog (SWI-Prolog 9.2.9)</option>
						
							<option value="6082" data-ace-mode="python">Python (CPython 3.13.7)</option>
						
							<option value="6083" data-ace-mode="python">Python (PyPy 3.11-v7.3.20)</option>
						
							<option value="6084" data-ace-mode="r">R (GNU R 4.5.0)</option>
						
							<option value="6085" data-ace-mode="text">ReasonML (reson 3.16.0)</option>
						
							<option value="6086" data-ace-mode="ruby">Ruby 3.3 (truffleruby 25.0.0)</option>
						
							<option value="6087" data-ace-mode="ruby">Ruby 3.4 (ruby 3.4.5)</option>
						
							<option value="6088" data-ace-mode="rust">Rust (rustc 1.89.0)</option>
						
							<option value="6089" data-ace-mode="python">SageMath (SageMath 10.7)</option>
						
							<option value="6090" data-ace-mode="scala">Scala (Dotty 3.7.2)</option>
						
							<option value="6091" data-ace-mode="scala">Scala 3.7.2 (Scala Native 0.5.8)</option>
						
							<option value="6092" data-ace-mode="scheme">Scheme (ChezScheme 10.2.0)</option>
						
							<option value="6093" data-ace-mode="scheme">Scheme (Gauche 0.9.15)</option>
						
							<option value="6094" data-ace-mode="text">Seed7 (Seed7 3.5.0)</option>
						
							<option value="6095" data-ace-mode="swift">Swift 6.2</option>
						
							<option value="6096" data-ace-mode="tcl">Tcl (tclsh 9.0.1)</option>
						
							<option value="6097" data-ace-mode="text">Terra (Terra 1.2.0)</option>
						
							<option value="6098" data-ace-mode="tex">TeX (tex 3.141592653)</option>
						
							<option value="6099" data-ace-mode="text">Text (cat 9.4)</option>
						
							<option value="6100" data-ace-mode="typescript">TypeScript 5.8 (Deno 2.4.5)</option>
						
							<option value="6101" data-ace-mode="typescript">TypeScript 5.9 (tsc 5.9.2 (Bun 1.2.21))</option>
						
							<option value="6102" data-ace-mode="typescript">TypeScript 5.9 (tsc 5.9.2 (Node.js 22.19.0))</option>
						
							<option value="6103" data-ace-mode="text">Uiua (uiua 0.16.2)</option>
						
							<option value="6104" data-ace-mode="text">Unison (Unison 0.5.47)</option>
						
							<option value="6105" data-ace-mode="text">V (0.4.10)</option>
						
							<option value="6106" data-ace-mode="vala">Vala (valac 0.56.18)</option>
						
							<option value="6107" data-ace-mode="verilog">Verilog 2012 (Icarus Verilog 12.0)</option>
						
							<option value="6108" data-ace-mode="text">Veryl (veryl 0.16.4)</option>
						
							<option value="6109" data-ace-mode="text">WebAssembly (wabt 1.0.34 &#43; iwasm 2.4.1)</option>
						
							<option value="6110" data-ace-mode="text">Whitespace (whitespacers 1.3.0)</option>
						
							<option value="6111" data-ace-mode="zig">Zig (Zig 0.15.1)</option>
						
							<option value="6112" data-ace-mode="text">なでしこ (cnako3 3.7.8 (Node.js 22.19.0))</option>
						
							<option value="6113" data-ace-mode="text">プロデル (mono版プロデル 2.0.1353)</option>
						
							<option value="6114" data-ace-mode="julia">Julia (Julia 1.11.6)</option>
						
							<option value="6115" data-ace-mode="python">Python (Codon 0.19.3)</option>
						
							<option value="6116" data-ace-mode="c_cpp">C&#43;&#43;23 (Clang 21.1.0)</option>
						
							<option value="6117" data-ace-mode="text">Fix (1.1.0-alpha.12)</option>
						
							<option value="6118" data-ace-mode="sql">SQL (DuckDB 1.3.2)</option>
						
					</select>
					<span class="error"></span>
				</div>
			</div>
			<script>var currentLang = getLS('defaultLang');</script>
			
			
<div class="form-group">
	<div class="col-sm-3 col-md-2 editor-label">
		<label class="control-label" for="sourceCode">ソースコード</label>
		<div class="editor-buttons">
			<button id="btn-open-file" type="button" class="btn btn-default btn-sm">
				<span class="glyphicon glyphicon-folder-open" aria-hidden="true"></span> &nbsp; ファイルを開く
			</button>
			<button id="btn-customize" type="button" class="btn btn-default btn-sm">
				<span class="glyphicon glyphicon-cog" aria-hidden="true"></span> &nbsp; カスタマイズ
			</button>
			<button type="button" class="btn btn-default btn-sm btn-toggle-editor" data-toggle="button" autocomplete="off">
				エディタ切り替え
			</button>
			<button type="button" class="btn btn-default btn-sm btn-auto-height" data-toggle="button" autocomplete="off">
				高さ自動調節
			</button>
		</div>
	</div>
	<div class="col-sm-9 col-md-10" id="sourceCode">
		<div id="editor"></div>
		<textarea id="plain-textarea" class="form-control" style="display:none;" name="sourceCode"></textarea>
		<p>
			<span class="gray">※ 512 KiB まで</span><br>
		</p>
	</div>
	<input id="input-open-file" type="file" style="display:none;">
</div>


			<input type="hidden" name="csrf_token" value="xq/2/1/cd0OKZhkOMPzGHO28HpSv5GCbMjIXdzS6eNY=" />
			<div class="form-group">
				<label class="control-label col-sm-3 col-md-2"></label>
				<div class="col-sm-5">
					
					<button type="submit" class="btn btn-primary" id="submit">提出</button>
				</div>
			</div>
		</form>
		
	</div>
</div>




		
			<hr>
			
			
			
<div class="a2a_kit a2a_kit_size_20 a2a_default_style pull-right" data-a2a-url="https://atcoder.jp/contests/abc442/tasks/abc442_e?lang=ja" data-a2a-title="E - Laser Takahashi">
	<a class="a2a_button_facebook"></a>
	<a class="a2a_button_twitter"></a>
	
		<a class="a2a_button_hatena"></a>
	
	<a class="a2a_dd" href="https://www.addtoany.com/share"></a>
</div>

		
		<script async src="//static.addtoany.com/menu/page.js"></script>
		
	</div> 
	<hr>
</div> 

	<div class="container" style="margin-bottom: 80px;">
			<footer class="footer">
			
				<ul>
					<li><a href="/contests/abc442/rules">ルール</a></li>
					<li><a href="/contests/abc442/glossary">用語集</a></li>
					
				</ul>
			
			<ul>
				<li><a href="/tos">利用規約</a></li>
				<li><a href="/privacy">プライバシーポリシー</a></li>
				<li><a href="/personal">個人情報保護方針</a></li>
				<li><a href="/company">企業情報</a></li>
				<li><a href="/faq">よくある質問</a></li>
				<li><a href="/contact">お問い合わせ</a></li>
				<li><a href="/documents/request">資料請求</a></li>
			</ul>
			<div class="text-center">
					<small id="copyright">Copyright Since 2012 &copy;<a href="http://atcoder.co.jp">AtCoder Inc.</a> All rights reserved.</small>
			</div>
			</footer>
	</div>
	<p id="fixed-server-timer" class="contest-timer"></p>
	<div id="scroll-page-top" style="display:none;"><span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span> ページトップ</div>

</body>
</html>


