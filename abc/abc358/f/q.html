







<!DOCTYPE html>
<html>
<head>
	<title>F - Easiest Maze</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta http-equiv="Content-Language" content="en">
	<meta name="viewport" content="width=device-width,initial-scale=1.0">
	<meta name="format-detection" content="telephone=no">
	<meta name="google-site-verification" content="nXGC_JxO0yoP1qBzMnYD_xgufO6leSLw1kyNo2HZltM" />

	
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-RC512FD18N"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'G-RC512FD18N');
	</script>

	
	<meta name="description" content="AtCoder is a programming contest site for anyone from beginners to experts. We hold weekly programming contests online.">
	<meta name="author" content="AtCoder Inc.">

	<meta property="og:site_name" content="AtCoder">
	
	<meta property="og:title" content="F - Easiest Maze" />
	<meta property="og:description" content="AtCoder is a programming contest site for anyone from beginners to experts. We hold weekly programming contests online." />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="https://atcoder.jp/contests/abc358/tasks/abc358_f" />
	<meta property="og:image" content="https://img.atcoder.jp/assets/atcoder.png" />
	<meta name="twitter:card" content="summary" />
	<meta name="twitter:site" content="@atcoder" />
	
	<meta property="twitter:title" content="F - Easiest Maze" />

	<link href="//fonts.googleapis.com/css?family=Lato:400,700" rel="stylesheet" type="text/css">
	<link rel="stylesheet" type="text/css" href="//img.atcoder.jp/public/fdb7c81/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="//img.atcoder.jp/public/fdb7c81/css/base.css">
	<link rel="shortcut icon" type="image/png" href="//img.atcoder.jp/assets/favicon.png">
	<link rel="apple-touch-icon" href="//img.atcoder.jp/assets/atcoder.png">
	<script src="//img.atcoder.jp/public/fdb7c81/js/lib/jquery-1.9.1.min.js"></script>
	<script src="//img.atcoder.jp/public/fdb7c81/js/lib/bootstrap.min.js"></script>
	<script src="//img.atcoder.jp/public/fdb7c81/js/cdn/js.cookie.min.js"></script>
	<script src="//img.atcoder.jp/public/fdb7c81/js/cdn/moment.min.js"></script>
	<script src="//img.atcoder.jp/public/fdb7c81/js/cdn/moment_js-ja.js"></script>
	<script>
		var LANG = "en";
		var userScreenName = "yamate11";
		var csrfToken = "rPDZtxi4sDYIk4Lx3c21HQBwm9TsUVsWa7+hdjjI/Vs="
	</script>
	<script src="//img.atcoder.jp/public/fdb7c81/js/utils.js"></script>
	
	
		<script src="//img.atcoder.jp/public/fdb7c81/js/contest.js"></script>
		<link href="//img.atcoder.jp/public/fdb7c81/css/contest.css" rel="stylesheet" />
		<script>
			var contestScreenName = "abc358";
			var remainingText = "Remaining Time";
			var countDownText = "Contest begins in";
			var startTime = moment("2024-06-15T21:00:00+09:00");
			var endTime = moment("2024-06-15T22:40:00+09:00");
		</script>
		<style>.insert-participant-box h1 {
    font-size: 40px !important;
}

a {
   word-wrap:break-word;
}

.magicpod{
margin:0;
padding: 0px;
}</style>
	
	
		<link href="//img.atcoder.jp/public/fdb7c81/css/cdn/select2.min.css" rel="stylesheet" />
		<link href="//img.atcoder.jp/public/fdb7c81/css/cdn/select2-bootstrap.min.css" rel="stylesheet" />
		<script src="//img.atcoder.jp/public/fdb7c81/js/lib/select2.min.js"></script>
	
	
		<script src="//img.atcoder.jp/public/fdb7c81/js/ace/ace.js"></script>
		<script src="//img.atcoder.jp/public/fdb7c81/js/ace/ext-language_tools.js"></script>
	
	
		<script src="//img.atcoder.jp/public/fdb7c81/js/cdn/run_prettify.js"></script>
	
	
		<link rel="stylesheet" href="//img.atcoder.jp/public/fdb7c81/css/cdn/katex.min.css">
		<script defer src="//img.atcoder.jp/public/fdb7c81/js/cdn/katex.min.js"></script>
		<script defer src="//img.atcoder.jp/public/fdb7c81/js/cdn/auto-render.min.js"></script>
		<script>$(function(){$('var').each(function(){var html=$(this).html().replace(/<sub>/g,'_{').replace(/<\/sub>/g,'}');$(this).html('\\('+html+'\\)');});});</script>
		<script>
			var katexOptions = {
				delimiters: [
					{left: "$$", right: "$$", display: true},
					
					{left: "\\(", right: "\\)", display: false},
					{left: "\\[", right: "\\]", display: true}
				],
      	ignoredTags: ["script", "noscript", "style", "textarea", "code", "option"],
				ignoredClasses: ["prettyprint", "source-code-for-copy"],
				throwOnError: false
			};
			document.addEventListener("DOMContentLoaded", function() { renderMathInElement(document.body, katexOptions);});
		</script>
	
	
	
	
	
	
	
	
	
	<script src="//img.atcoder.jp/public/fdb7c81/js/base.js"></script>
</head>

<body>

<script type="text/javascript">
	var __pParams = __pParams || [];
	__pParams.push({client_id: '468', c_1: 'atcodercontest', c_2: 'ClientSite'});
</script>
<script type="text/javascript" src="https://cdn.d2-apps.net/js/tr.js" async></script>


<div id="modal-contest-start" class="modal fade" tabindex="-1" role="dialog">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h4 class="modal-title">Contest started</h4>
			</div>
			<div class="modal-body">
				<p>AtCoder Beginner Contest 358 has begun.</p>
			</div>
			<div class="modal-footer">
				
					<a class="btn btn-primary" href='/contests/abc358/tasks'>Go to the task list page</a>
				
			</div>
		</div>
	</div>
</div>
<div id="modal-contest-end" class="modal fade" tabindex="-1" role="dialog">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h4 class="modal-title">Contest is over</h4>
			</div>
			<div class="modal-body">
				<p>AtCoder Beginner Contest 358 has ended.</p>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
</div>
<div id="main-div" class="float-container">


	<nav class="navbar navbar-inverse navbar-fixed-top">
		<div class="container-fluid">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
					<span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="/home"></a>
			</div>
			<div class="collapse navbar-collapse" id="navbar-collapse">
				<ul class="nav navbar-nav">
				
					<li><a class="contest-title" href="/contests/abc358">AtCoder Beginner Contest 358</a></li>
				
				</ul>
				<ul class="nav navbar-nav navbar-right">
					
					<li class="dropdown">
						<a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
							<img src='//img.atcoder.jp/assets/top/img/flag-lang/en.png'> English <span class="caret"></span>
						</a>
						<ul class="dropdown-menu">
							<li><a href="/contests/abc358/tasks/abc358_f?lang=ja"><img src='//img.atcoder.jp/assets/top/img/flag-lang/ja.png'> 日本語</a></li>
							<li><a href="/contests/abc358/tasks/abc358_f?lang=en"><img src='//img.atcoder.jp/assets/top/img/flag-lang/en.png'> English</a></li>
						</ul>
					</li>
					
					
						<li class="dropdown">
							<a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
								<span class="glyphicon glyphicon-cog" aria-hidden="true"></span> yamate11 (Contestant) <span class="caret"></span>
							</a>
							<ul class="dropdown-menu">
								<li><a href="/users/yamate11"><span class="glyphicon glyphicon-user" aria-hidden="true"></span> My Profile</a></li>
								<li class="divider"></li>
								<li><a href="/settings"><span class="glyphicon glyphicon-wrench" aria-hidden="true"></span> General Settings</a></li>
								<li><a href="/settings/icon"><span class="glyphicon glyphicon-picture" aria-hidden="true"></span> Change Photo</a></li>
								<li><a href="/settings/password"><span class="glyphicon glyphicon-lock" aria-hidden="true"></span> Change Password</a></li>
								<li><a href="/settings/fav"><span class="glyphicon glyphicon-star" aria-hidden="true"></span> Manage Fav</a></li>
								
								
								
								<li class="divider"></li>
								<li><a href="javascript:void(form_logout.submit())"><span class="glyphicon glyphicon-log-out" aria-hidden="true"></span> Sign Out</a></li>
							</ul>
						</li>
					
				</ul>
			</div>
		</div>
	</nav>

	<form method="POST" name="form_logout" action="/logout?continue=https%3A%2F%2Fatcoder.jp%2Fcontests%2Fabc358%2Ftasks%2Fabc358_f">
		<input type="hidden" name="csrf_token" value="rPDZtxi4sDYIk4Lx3c21HQBwm9TsUVsWa7&#43;hdjjI/Vs=" />
	</form>
	<div id="main-container" class="container"
		 	style="padding-top:50px;">
		


<div class="row">
	<div id="contest-nav-tabs" class="col-sm-12 mb-2 cnvtb-fixed">
	<div>
		<small class="contest-duration">
			
				Contest Duration:
				<a href='http://www.timeanddate.com/worldclock/fixedtime.html?iso=20240615T2100&p1=248' target='blank'><time class='fixtime fixtime-full'>2024-06-15 21:00:00+0900</time></a> - <a href='http://www.timeanddate.com/worldclock/fixedtime.html?iso=20240615T2240&p1=248' target='blank'><time class='fixtime fixtime-full'>2024-06-15 22:40:00+0900</time></a> (local time)
				(100 minutes)
			
		</small>
		<small class="back-to-home pull-right"><a href="/home">Back to Home</a></small>
	</div>
	<ul class="nav nav-tabs">
		<li><a href="/contests/abc358"><span class="glyphicon glyphicon-home" aria-hidden="true"></span> Top</a></li>
		
			<li class="active"><a href="/contests/abc358/tasks"><span class="glyphicon glyphicon-tasks" aria-hidden="true"></span> Tasks</a></li>
		

		
			<li><a href="/contests/abc358/clarifications"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span> Clarifications <span id="clar-badge" class="badge"></span></a></li>
		

		
			<li><a href="/contests/abc358/submit?taskScreenName=abc358_f"><span class="glyphicon glyphicon-send" aria-hidden="true"></span> Submit</a></li>
		

		
			<li>
				<a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false"><span class="glyphicon glyphicon-list" aria-hidden="true"></span> Results<span class="caret"></span></a>
				<ul class="dropdown-menu">
					
					
						<li><a href="/contests/abc358/submissions/me"><span class="glyphicon glyphicon-user" aria-hidden="true"></span> My Submissions</a></li>
						
						<li class="divider"></li>
						<li><a href="/contests/abc358/score"><span class="glyphicon glyphicon-dashboard" aria-hidden="true"></span> My Score</a></li>
					
				</ul>
			</li>
		

		
			
				
					<li><a href="/contests/abc358/standings"><span class="glyphicon glyphicon-sort-by-attributes-alt" aria-hidden="true"></span> Standings</a></li>
				
			
		

		
			<li><a href="/contests/abc358/custom_test"><span class="glyphicon glyphicon-wrench" aria-hidden="true"></span> Custom Test</a></li>
		

		
		
			
			
				<li><a href="https://codeforces.com/blog/entry/130467" target="_blank" rel="noopener"><span class="glyphicon glyphicon-comment" aria-hidden="true"></span> Discuss</a></li>
			
		

		<li class="pull-right"><a id="fix-cnvtb" href="javascript:void(0)"><span class="glyphicon glyphicon-pushpin" aria-hidden="true"></span></a></li>
	</ul>
</div>
	<div class="col-sm-12">
		<span class="h2">
			F - Easiest Maze
			
		</span>
		<span id="task-lang-btn" class="pull-right"><span data-lang="ja"><img src='//img.atcoder.jp/assets/top/img/flag-lang/ja.png'></span> / <span data-lang="en"><img src='//img.atcoder.jp/assets/top/img/flag-lang/en.png'></span></span>
		<script>
			$(function() {
				var ts = $('#task-statement span.lang');
				if (ts.children('span').size() <= 1) {
					$('#task-lang-btn').hide();
					ts.children('span').show();
					return;
				}
				var REMEMBER_LB = 5;
				var LS_KEY = 'task_lang';
				var taskLang = getLS(LS_KEY) || '';
				var changeTimes = 0;
				if (taskLang == 'ja' || taskLang == 'en') {
					changeTimes = REMEMBER_LB;
				} else {
					var changeTimes = parseInt(taskLang, 10);
					if (isNaN(changeTimes)) {
						changeTimes = 0;
						delLS(LS_KEY);
					}
					changeTimes++;
					taskLang = LANG;
				}
				ts.children('span.lang-' + taskLang).show();

				$('#task-lang-btn span').click(function() {
					var l = $(this).data('lang');
					ts.children('span').hide();
					ts.children('span.lang-' + l).show();
					if (changeTimes < REMEMBER_LB) setLS(LS_KEY, changeTimes);
					else setLS(LS_KEY, l);
				});
			});
		</script>
		<hr/>
		<p>
			Time Limit: 2 sec / Memory Limit: 1024 MB
			
			
		</p>

		<div id="task-statement">
			


		<div class="alert alert-warning alert-dismissible fade in">
			<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
			<p>It is prohibited to directly input all or part of the information issued as problems in ongoing AtCoder contests into software. Please refer to <a href="https://info.atcoder.jp/entry/llm-abc-rules-en" target="_blank" rel="noopener" class="alert-link">this post</a> for details.</p>
		</div>

			<span class="lang">
<span class="lang-ja">
<p>配点 : <var>525</var> 点</p>

<div class="part">
<section>
<h3>問題文</h3><p>すぬけくんは、AtCoder Land の新たな目玉アトラクションとして迷路を建設しようと考えています。
迷路は縦 <var>N</var> 行・横 <var>M</var> 列のグリッドとして表され、右上のマスの上端が入口、右下のマスの下端が出口です。
すぬけくんは、隣接するマスの間に適切に壁を配置することで迷路を作ります。</p>
<p>すぬけくんは簡単な迷路が大好きなので、入口から出口までの道順は枝分かれを一切持たずにちょうど <var>K</var> マスを通るようなものにしたいです。
そのような迷路を作ることが可能か判定し、可能ならば <var>1</var> つ構築してください。</p>
<p>例えば以下の図では、<var>N=3,M=3</var> であり、実線で書かれているところに壁が配置されています（入口と出口を除く外周部には必ず壁が配置されるものとします）。 
このとき、入口から出口までの道順は枝分かれを一切持たずにちょうど <var>7</var> マスを通っています。</p>
<p><img src="https://img.atcoder.jp/abc358/74c8a9b7121eee699525805e4974b285.png" class="img-responsive center-block" style="max-width: 20%"></p>
<p>厳密には以下の通りです。</p>
<p>縦 <var>N</var> 行・横 <var>M</var> 列のグリッドがあります。
上から <var>i</var> 行目、左から <var>j</var> 列目のマスを <var>(i,j)</var> と表記します。
あなたは、辺で隣接する任意の <var>2</var> マスの間それぞれについて壁を置くか置かないか決めることができます。
壁を置く場所をうまく定めることで以下の条件を満たすことができるか判定し、できるならば実際に <var>1</var> つ構築してください。</p>
<blockquote>
<p><var>NM</var> 頂点からなる無向グラフ <var>G</var> を考える。<var>G</var> の各頂点は <var>2</var> つの整数の組 <var>(i,j)\ (1\leq i\leq N, 1\leq j\leq M)</var> によって互いに相異なるラベルが付けられている。
相異なる <var>2</var> 頂点 <var>(i_1,j_1),(i_2,j_2)</var> は、<var>|i_1-i_2|+|j_1-j_2|=1</var> かつグリッド上の <var>2</var> マス <var>(i_1,j_1),(i_2,j_2)</var> の間に壁が置かれている場合、またその場合に限り辺で結ばれている。</p>
<p>条件：<var>K</var> 頂点からなり <var>2</var> 頂点 <var>(1,M),(N,M)</var> を結ぶような単純パスが存在し、また <var>2</var> 頂点 <var>(1,M),(N,M)</var> を含む連結成分はこのパスのみからなる。</p>
</blockquote>
</section>
</div>

<div class="part">
<section>
<h3>制約</h3><ul>
<li><var>2\leq N \leq 100</var></li>
<li><var>1\leq M \leq 100</var></li>
<li><var>1\leq K\leq NM</var></li>
<li>入力は全て整数</li>
</ul>
</section>
</div>

<hr />
<div class="io-style">
<div class="part">
<section>
<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>
<pre><var>N</var> <var>M</var> <var>K</var>
</pre>

</section>
</div>

<div class="part">
<section>
<h3>出力</h3><p>条件を満たす壁の配置が存在しないならば <code>No</code> を出力し、存在するならばそのうちの <var>1</var> つを以下の形式で出力せよ。
条件を満たす壁の配置が複数存在する場合は、そのどれを出力してもよい。</p>
<p><strong>複雑な出力形式のため、下記の出力例も参考にしてください。</strong></p>
<pre>Yes
+++++ <var>\dots</var> +++S+
+o?o? <var>\dots</var> ?o?o+
+?+?+ <var>\dots</var> +?+?+
+o?o? <var>\dots</var> ?o?o+
+?+?+ <var>\dots</var> +?+?+
<var>\vdots</var>
+o?o? <var>\dots</var> ?o?o+
+?+?+ <var>\dots</var> +?+?+
+o?o? <var>\dots</var> ?o?o+
+++++ <var>\dots</var> +++G+
</pre>

<p>ここで、<code>S</code>, <code>G</code>, <code>+</code>, <code>o</code> はそれぞれ入口、出口、壁、マスを表し、マスとマスの間にある <code>?</code> は壁を置くことができる場所である。
横に隣接する <var>2</var> マスの間にある <code>?</code> は、壁を置くならば <code>|</code> で、壁を置かないならば <code>.</code> で置き換えよ。
縦に隣接する <var>2</var> マスの間にある <code>?</code> は、壁を置くならば <code>-</code> で、壁を置かないならば <code>.</code> で置き換えよ。</p>
<p>厳密には以下の通りである。</p>
<ul>
<li>出力は <var>2N+2</var> 行からなり、<var>1</var> 行目には文字列 <code>Yes</code> を、<var>2</var> 行目から <var>2N+2</var> 行目には以下で説明されるように長さ <var>2M+1</var> の文字列を出力する。<ul>
<li><var>2</var> 行目には、<var>2M-1</var> 個の <code>+</code>, <code>S</code>, <code>+</code> をこの順に連結して出力する。</li>
<li><var>1+2i</var> 行目 <var>(1\leq i\leq N)</var> には、<code>+</code>, <code>o</code>, <var>c_{i,1}</var>, <code>o</code>, <var>c_{i,2}</var>, <var>\dots</var>, <var>c_{i,M-1}</var>, <code>o</code>, <code>+</code> をこの順に連結して出力する。
ここで、<var>c_{i,j}</var> はマス <var>(i,j),(i,j+1)</var> の間に壁を置くならば <code>|</code>、置かないならば <code>.</code> である。</li>
<li><var>2+2i</var> 行目 <var>(1\leq i\leq N-1)</var> には、<code>+</code>, <var>r_{i,1}</var>, <code>o</code>, <var>r_{i,2}</var>, <code>o</code>, <var>\dots</var>, <code>o</code>, <var>r_{i,M}</var>, <code>+</code> をこの順に連結して出力する。
ここで、<var>r_{i,j}</var> はマス <var>(i,j),(i+1,j)</var> の間に壁を置くならば <code>-</code>、置かないならば <code>.</code> である。</li>
<li><var>2N+2</var> 行目には、<var>2M-1</var> 個の <code>+</code>, <code>G</code>, <code>+</code> をこの順に連結して出力する。</li>
</ul>
</li>
</ul>
</section>
</div>
</div>

<hr />
<div class="part">
<section>
<h3>入力例 1</h3><pre>3 3 7
</pre>

</section>
</div>

<div class="part">
<section>
<h3>出力例 1</h3><pre>Yes
+++++S+
+o.o.o+
+.+-+-+
+o.o.o+
+-+-+.+
+o.o|o+
+++++G+
</pre>

<p>問題文中の図と同じ壁の配置です。</p>
</section>
</div>

<hr />
<div class="part">
<section>
<h3>入力例 2</h3><pre>3 3 2
</pre>

</section>
</div>

<div class="part">
<section>
<h3>出力例 2</h3><pre>No
</pre>

</section>
</div>

<hr />
<div class="part">
<section>
<h3>入力例 3</h3><pre>4 1 4
</pre>

</section>
</div>

<div class="part">
<section>
<h3>出力例 3</h3><pre>Yes
+S+
+o+
+.+
+o+
+.+
+o+
+.+
+o+
+G+
</pre></section>
</div>
</span>
<span class="lang-en">
<p>Score : <var>525</var> points</p>

<div class="part">
<section>
<h3>Problem Statement</h3><p>Snuke is planning to build a maze as a new attraction in AtCoder Land. The maze is represented as a grid with <var>N</var> rows and <var>M</var> columns, with the top edge of the top-right cell being the entrance and the bottom edge of the bottom-right cell being the exit. He will create the maze by appropriately placing walls between adjacent cells.</p>
<p>He loves simple mazes, so he wants the path from the entrance to the exit to pass through exactly <var>K</var> cells without any branches. Determine if it is possible to create such a maze, and if possible, construct one.</p>
<p>For example, in the following figure, <var>N=3</var> and <var>M=3</var>, and walls are placed at the solid lines (walls are always placed around the outer perimeter except for the entrance and exit). In this case, the path from the entrance to the exit passes through exactly <var>7</var> cells without any branches.</p>
<p><img src="https://img.atcoder.jp/abc358/74c8a9b7121eee699525805e4974b285.png" class="img-responsive center-block" style="max-width: 20%"></p>
<p>Below is a formal statement.</p>
<p>There is a grid with <var>N</var> rows and <var>M</var> columns. Let <var>(i, j)</var> denote the cell at the <var>i</var>-th row from the top and <var>j</var>-th column from the left. For each pair of side-adjacent cells, you can decide whether to place a wall between them. Determine whether it is possible to place walls to satisfy the following condition, and if it is possible, construct one such placement.</p>
<blockquote>
<p>Consider an undirected graph <var>G</var> with <var>NM</var> vertices. Each vertex of <var>G</var> is uniquely labeled by a pair of integers <var>(i,j)\ (1\leq i\leq N, 1\leq j\leq M)</var>.
Two distinct vertices <var>(i_1,j_1)</var> and <var>(i_2,j_2)</var> are connected by an edge if and only if <var>|i_1-i_2|+|j_1-j_2|=1</var> and there is a wall between the corresponding cells <var>(i_1,j_1)</var> and <var>(i_2,j_2)</var> on the grid.</p>
<p>Condition: there exists a simple path with <var>K</var> vertices that connects the two vertices <var>(1,M)</var> and <var>(N,M)</var>, and the connected component containing the vertices <var>(1,M)</var> and <var>(N,M)</var> consists only of this path.</p>
</blockquote>
</section>
</div>

<div class="part">
<section>
<h3>Constraints</h3><ul>
<li><var>2\leq N \leq 100</var></li>
<li><var>1\leq M \leq 100</var></li>
<li><var>1\leq K\leq NM</var></li>
<li>All input values are integers.</li>
</ul>
</section>
</div>

<hr />
<div class="io-style">
<div class="part">
<section>
<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>
<pre><var>N</var> <var>M</var> <var>K</var>
</pre>

</section>
</div>

<div class="part">
<section>
<h3>Output</h3><p>If there is no placement of walls that satisfies the condition, print <code>No</code>. Otherwise, print one such placement in the following format. If multiple valid placements exist, any of them can be printed.</p>
<p><strong>See also the sample outputs below to better understand the complicated output format.</strong></p>
<pre>Yes
+++++ <var>\dots</var> +++S+
+o?o? <var>\dots</var> ?o?o+
+?+?+ <var>\dots</var> +?+?+
+o?o? <var>\dots</var> ?o?o+
+?+?+ <var>\dots</var> +?+?+
<var>\vdots</var>
+o?o? <var>\dots</var> ?o?o+
+?+?+ <var>\dots</var> +?+?+
+o?o? <var>\dots</var> ?o?o+
+++++ <var>\dots</var> +++G+
</pre>

<p>Here, <code>S</code>, <code>G</code>, <code>+</code>, and <code>o</code> represent the entrance, exit, a wall, and a cell, respectively, and <code>?</code> between cells represents a position where a wall can be placed. Replace <code>?</code> between two horizontally adjacent cells with <code>|</code> if a wall is placed, and <code>.</code> otherwise. Replace <code>?</code> between two vertically adjacent cells with <code>-</code> if a wall is placed, and <code>.</code> otherwise.</p>
<p>Below is a formal instruction.</p>
<ul>
<li>The output should consist of <var>2N+2</var> lines. Line <var>1</var> should contain the string <code>Yes</code>, and lines <var>2</var> to <var>2N+2</var> should contain strings of length <var>2M+1</var> as described below.<ul>
<li>Line <var>2</var> should be a concatenation of <code>+</code> repeated <var>2M-1</var> times, <code>S</code>, and <code>+</code>, in this order.</li>
<li>Line <var>1+2i</var> <var>(1\leq i\leq N)</var> should be a concatenation of <code>+</code>, <code>o</code>, <var>c_{i,1}</var>, <code>o</code>, <var>c_{i,2}</var>, <var>\dots</var>, <var>c_{i,M-1}</var>, <code>o</code>, <code>+</code>, in this order. Here, <var>c_{i,j}</var> is <code>|</code> if a wall is placed between cells <var>(i,j)</var> and <var>(i,j+1)</var>, and <code>.</code> otherwise.</li>
<li>Line <var>2+2i</var> <var>(1\leq i\leq N-1)</var> should be a concatenation of <code>+</code>, <var>r_{i,1}</var>, <code>o</code>, <var>r_{i,2}</var>, <code>o</code>, <var>\dots</var>, <code>o</code>, <var>r_{i,M}</var>, <code>+</code>, in this order. Here, <var>r_{i,j}</var> is <code>-</code> if a wall is placed between cells <var>(i,j)</var> and <var>(i+1,j)</var>, and <code>.</code> otherwise.</li>
<li>Line <var>2N+2</var> should be a concatenation of <code>+</code>, <code>G</code>, and <code>+</code> repeated <var>2M-1</var> times, in this order.</li>
</ul>
</li>
</ul>
</section>
</div>
</div>

<hr />
<div class="part">
<section>
<h3>Sample Input 1</h3><pre>3 3 7
</pre>

</section>
</div>

<div class="part">
<section>
<h3>Sample Output 1</h3><pre>Yes
+++++S+
+o.o.o+
+.+-+-+
+o.o.o+
+-+-+.+
+o.o|o+
+++++G+
</pre>

<p>This is the same placement of walls as in the figure in the problem statement.</p>
</section>
</div>

<hr />
<div class="part">
<section>
<h3>Sample Input 2</h3><pre>3 3 2
</pre>

</section>
</div>

<div class="part">
<section>
<h3>Sample Output 2</h3><pre>No
</pre>

</section>
</div>

<hr />
<div class="part">
<section>
<h3>Sample Input 3</h3><pre>4 1 4
</pre>

</section>
</div>

<div class="part">
<section>
<h3>Sample Output 3</h3><pre>Yes
+S+
+o+
+.+
+o+
+.+
+o+
+.+
+o+
+G+
</pre></section>
</div>
</span>
</span>

		</div>

		

		
		<hr/>
		<form class="form-horizontal form-code-submit" action="/contests/abc358/submit" method="POST">
			<input type="hidden" name="data.TaskScreenName" value="abc358_f" />
			
			<div class="form-group ">
				<label class="control-label col-sm-3 col-md-2" for="select-lang">Language</label>
				<div id="select-lang" class="col-sm-5" data-name="data.LanguageId">
					<select class="form-control current" data-placeholder="-" name="data.LanguageId" required>
						<option></option>
						
							<option value="5001" data-ace-mode="c_cpp">C&#43;&#43; 20 (gcc 12.2)</option>
						
							<option value="5002" data-ace-mode="golang">Go (go 1.20.6)</option>
						
							<option value="5003" data-ace-mode="csharp">C# 11.0 (.NET 7.0.7)</option>
						
							<option value="5004" data-ace-mode="kotlin">Kotlin (Kotlin/JVM 1.8.20)</option>
						
							<option value="5005" data-ace-mode="java">Java (OpenJDK 17)</option>
						
							<option value="5006" data-ace-mode="nim">Nim (Nim 1.6.14)</option>
						
							<option value="5007" data-ace-mode="text">V (V 0.4)</option>
						
							<option value="5008" data-ace-mode="text">Zig (Zig 0.10.1)</option>
						
							<option value="5009" data-ace-mode="javascript">JavaScript (Node.js 18.16.1)</option>
						
							<option value="5010" data-ace-mode="javascript">JavaScript (Deno 1.35.1)</option>
						
							<option value="5011" data-ace-mode="r">R (GNU R 4.2.1)</option>
						
							<option value="5012" data-ace-mode="d">D (DMD 2.104.0)</option>
						
							<option value="5013" data-ace-mode="d">D (LDC 1.32.2)</option>
						
							<option value="5014" data-ace-mode="swift">Swift (swift 5.8.1)</option>
						
							<option value="5015" data-ace-mode="dart">Dart (Dart 3.0.5)</option>
						
							<option value="5016" data-ace-mode="php">PHP (php 8.2.8)</option>
						
							<option value="5017" data-ace-mode="c_cpp">C (gcc 12.2.0)</option>
						
							<option value="5018" data-ace-mode="ruby">Ruby (ruby 3.2.2)</option>
						
							<option value="5019" data-ace-mode="crystal">Crystal (Crystal 1.9.1)</option>
						
							<option value="5020" data-ace-mode="text">Brainfuck (bf 20041219)</option>
						
							<option value="5021" data-ace-mode="fsharp">F# 7.0 (.NET 7.0.7)</option>
						
							<option value="5022" data-ace-mode="julia">Julia (Julia 1.9.2)</option>
						
							<option value="5023" data-ace-mode="sh">Bash (bash 5.2.2)</option>
						
							<option value="5024" data-ace-mode="text">Text (cat 8.32)</option>
						
							<option value="5025" data-ace-mode="haskell">Haskell (GHC 9.4.5)</option>
						
							<option value="5026" data-ace-mode="fortran">Fortran (gfortran 12.2)</option>
						
							<option value="5027" data-ace-mode="lua">Lua (LuaJIT 2.1.0-beta3)</option>
						
							<option value="5028" data-ace-mode="c_cpp">C&#43;&#43; 23 (gcc 12.2)</option>
						
							<option value="5029" data-ace-mode="lisp">Common Lisp (SBCL 2.3.6)</option>
						
							<option value="5030" data-ace-mode="cobol">COBOL (Free) (GnuCOBOL 3.1.2)</option>
						
							<option value="5031" data-ace-mode="c_cpp">C&#43;&#43; 23 (Clang 16.0.6)</option>
						
							<option value="5032" data-ace-mode="sh">Zsh (Zsh 5.9)</option>
						
							<option value="5033" data-ace-mode="python">SageMath (SageMath 9.5)</option>
						
							<option value="5034" data-ace-mode="sh">Sed (GNU sed 4.8)</option>
						
							<option value="5035" data-ace-mode="text">bc (bc 1.07.1)</option>
						
							<option value="5036" data-ace-mode="text">dc (dc 1.07.1)</option>
						
							<option value="5037" data-ace-mode="perl">Perl (perl  5.34)</option>
						
							<option value="5038" data-ace-mode="sh">AWK (GNU Awk 5.0.1)</option>
						
							<option value="5039" data-ace-mode="text">なでしこ (cnako3 3.4.20)</option>
						
							<option value="5040" data-ace-mode="text">Assembly x64 (NASM 2.15.05)</option>
						
							<option value="5041" data-ace-mode="pascal">Pascal (fpc 3.2.2)</option>
						
							<option value="5042" data-ace-mode="csharp">C# 11.0 AOT (.NET 7.0.7)</option>
						
							<option value="5043" data-ace-mode="lua">Lua (Lua 5.4.6)</option>
						
							<option value="5044" data-ace-mode="prolog">Prolog (SWI-Prolog 9.0.4)</option>
						
							<option value="5045" data-ace-mode="sh">PowerShell (PowerShell 7.3.1)</option>
						
							<option value="5046" data-ace-mode="scheme">Scheme (Gauche 0.9.12)</option>
						
							<option value="5047" data-ace-mode="scala">Scala 3.3.0 (Scala Native 0.4.14)</option>
						
							<option value="5048" data-ace-mode="vbscript">Visual Basic 16.9 (.NET 7.0.7)</option>
						
							<option value="5049" data-ace-mode="text">Forth (gforth 0.7.3)</option>
						
							<option value="5050" data-ace-mode="clojure">Clojure (babashka 1.3.181)</option>
						
							<option value="5051" data-ace-mode="erlang">Erlang (Erlang 26.0.2)</option>
						
							<option value="5052" data-ace-mode="typescript">TypeScript 5.1 (Deno 1.35.1)</option>
						
							<option value="5053" data-ace-mode="c_cpp">C&#43;&#43; 17 (gcc 12.2)</option>
						
							<option value="5054" data-ace-mode="rust">Rust (rustc 1.70.0)</option>
						
							<option value="5055" data-ace-mode="python">Python (CPython 3.11.4)</option>
						
							<option value="5056" data-ace-mode="scala">Scala (Dotty 3.3.0)</option>
						
							<option value="5057" data-ace-mode="text">Koka (koka 2.4.0)</option>
						
							<option value="5058" data-ace-mode="typescript">TypeScript 5.1 (Node.js 18.16.1)</option>
						
							<option value="5059" data-ace-mode="ocaml">OCaml (ocamlopt 5.0.0)</option>
						
							<option value="5060" data-ace-mode="raku">Raku (Rakudo 2023.06)</option>
						
							<option value="5061" data-ace-mode="text">Vim (vim 9.0.0242)</option>
						
							<option value="5062" data-ace-mode="lisp">Emacs Lisp (Native Compile) (GNU Emacs 28.2)</option>
						
							<option value="5063" data-ace-mode="python">Python (Mambaforge / CPython 3.10.10)</option>
						
							<option value="5064" data-ace-mode="clojure">Clojure (clojure 1.11.1)</option>
						
							<option value="5065" data-ace-mode="text">プロデル (mono版プロデル 1.9.1182)</option>
						
							<option value="5066" data-ace-mode="text">ECLiPSe (ECLiPSe 7.1_13)</option>
						
							<option value="5067" data-ace-mode="text">Nibbles (literate form) (nibbles 1.01)</option>
						
							<option value="5068" data-ace-mode="ada">Ada (GNAT 12.2)</option>
						
							<option value="5069" data-ace-mode="text">jq (jq 1.6)</option>
						
							<option value="5070" data-ace-mode="text">Cyber (Cyber v0.2-Latest)</option>
						
							<option value="5071" data-ace-mode="clojure">Carp (Carp 0.5.5)</option>
						
							<option value="5072" data-ace-mode="c_cpp">C&#43;&#43; 17 (Clang 16.0.6)</option>
						
							<option value="5073" data-ace-mode="c_cpp">C&#43;&#43; 20 (Clang 16.0.6)</option>
						
							<option value="5074" data-ace-mode="text">LLVM IR (Clang 16.0.6)</option>
						
							<option value="5075" data-ace-mode="lisp">Emacs Lisp (Byte Compile) (GNU Emacs 28.2)</option>
						
							<option value="5076" data-ace-mode="text">Factor (Factor 0.98)</option>
						
							<option value="5077" data-ace-mode="d">D (GDC 12.2)</option>
						
							<option value="5078" data-ace-mode="python">Python (PyPy 3.10-v7.3.12)</option>
						
							<option value="5079" data-ace-mode="text">Whitespace (whitespacers 1.0.0)</option>
						
							<option value="5080" data-ace-mode="text">&gt;&lt;&gt; (fishr 0.1.0)</option>
						
							<option value="5081" data-ace-mode="ocaml">ReasonML (reason 3.9.0)</option>
						
							<option value="5082" data-ace-mode="python">Python (Cython 0.29.34)</option>
						
							<option value="5083" data-ace-mode="matlab">Octave (GNU Octave 8.2.0)</option>
						
							<option value="5084" data-ace-mode="haxe">Haxe (JVM) (Haxe 4.3.1)</option>
						
							<option value="5085" data-ace-mode="elixir">Elixir (Elixir 1.15.2)</option>
						
							<option value="5086" data-ace-mode="text">Mercury (Mercury 22.01.6)</option>
						
							<option value="5087" data-ace-mode="text">Seed7 (Seed7 3.2.1)</option>
						
							<option value="5088" data-ace-mode="lisp">Emacs Lisp (No Compile) (GNU Emacs 28.2)</option>
						
							<option value="5089" data-ace-mode="text">Unison (Unison M5b)</option>
						
							<option value="5090" data-ace-mode="cobol">COBOL (GnuCOBOL(Fixed) 3.1.2)</option>
						
					</select>
					<span class="error"></span>
				</div>
			</div>
			<script>var currentLang = getLS('defaultLang');</script>
			
			
<div class="form-group">
	<div class="col-sm-3 col-md-2 editor-label">
		<label class="control-label" for="sourceCode">Source Code</label>
		<div class="editor-buttons">
			<button id="btn-open-file" type="button" class="btn btn-default btn-sm">
				<span class="glyphicon glyphicon-folder-open" aria-hidden="true"></span> &nbsp; Open File
			</button>
			<button id="btn-customize" type="button" class="btn btn-default btn-sm">
				<span class="glyphicon glyphicon-cog" aria-hidden="true"></span> &nbsp; Customize
			</button>
			<button type="button" class="btn btn-default btn-sm btn-toggle-editor" data-toggle="button" autocomplete="off">
				Toggle Editor
			</button>
			<button type="button" class="btn btn-default btn-sm btn-auto-height" data-toggle="button" autocomplete="off">
				Auto Height
			</button>
		</div>
	</div>
	<div class="col-sm-9 col-md-10" id="sourceCode">
		<div id="editor"></div>
		<textarea id="plain-textarea" class="form-control" style="display:none;" name="sourceCode"></textarea>
		<p>
			<span class="gray">* at most 512 KiB</span><br>
			<span class="gray">* Your source code will be saved as Main.<i>extension</i>.</span>
		</p>
	</div>
	<input id="input-open-file" type="file" style="display:none;">
</div>


			<input type="hidden" name="csrf_token" value="rPDZtxi4sDYIk4Lx3c21HQBwm9TsUVsWa7&#43;hdjjI/Vs=" />
			<div class="form-group">
				<label class="control-label col-sm-3 col-md-2"></label>
				<div class="col-sm-5">
					<button type="submit" class="btn btn-primary" id="submit">Submit</button>
				</div>
			</div>
		</form>
		
	</div>
</div>




		
			<hr>
			
			
			
<div class="a2a_kit a2a_kit_size_20 a2a_default_style pull-right" data-a2a-url="https://atcoder.jp/contests/abc358/tasks/abc358_f?lang=en" data-a2a-title="F - Easiest Maze">
	<a class="a2a_button_facebook"></a>
	<a class="a2a_button_twitter"></a>
	
		<a class="a2a_button_telegram"></a>
	
	<a class="a2a_dd" href="https://www.addtoany.com/share"></a>
</div>

		
		<script async src="//static.addtoany.com/menu/page.js"></script>
		
	</div> 
	<hr>
</div> 

	<div class="container" style="margin-bottom: 80px;">
			<footer class="footer">
			
				<ul>
					<li><a href="/contests/abc358/rules">Rule</a></li>
					<li><a href="/contests/abc358/glossary">Glossary</a></li>
					
				</ul>
			
			<ul>
				<li><a href="/tos">Terms of service</a></li>
				<li><a href="/privacy">Privacy Policy</a></li>
				<li><a href="/personal">Information Protection Policy</a></li>
				<li><a href="/company">Company</a></li>
				<li><a href="/faq">FAQ</a></li>
				<li><a href="/contact">Contact</a></li>
				
			</ul>
			<div class="text-center">
					<small id="copyright">Copyright Since 2012 &copy;<a href="http://atcoder.co.jp">AtCoder Inc.</a> All rights reserved.</small>
			</div>
			</footer>
	</div>
	<p id="fixed-server-timer" class="contest-timer"></p>
	<div id="scroll-page-top" style="display:none;"><span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span> Page Top</div>

</body>
</html>


