ABC158-E
2020/03/08
解けず
数え上げ, MOD

長さNの数字列Sと素数Pが与えられる．連続部分文字列を数値と見なしたときに，
Pで割り切れるものの個数を求める．N <= 2e5, P <= 1e4

DPだと思ったが，よく見ると O(NP) では間に合わない．
u_i := int(S[i:]) と書くと，int(S[i:j]) = (u_i - u_j) / 10^(j-i)
であるから，Pが2や5でない時には，
int(S[i:j]) % P = 0 <=> u_i - u_j % P = 0
となるので，u_i たちが mod P でいくつになるかを下から順に覚えていけば
O(N + P) で解ける．
