PAST202004-M 食堂
2020/04/18
解けず
ダブリング

D日周期で決まった料理 C_i が出る食堂がある．N人の社員がいる．社員j
は，料理K_jが好きで，その料理が出る日か，以前食べた日のL日後かのい
ずれかの日には食べる．社員jが最初に食堂に行くのはF_j日目で，この日は
料理の如何に関わらず食べる．T_j回利用する間に好きな料理を食べる回数
を求める．N, D, C_j, K_j <= 1e5;  L, T_j <= 1e9;  F_j <= D．

普通にやってもできるだろうと思うのが，実装がたいへん．
各料理について，次の日への遷移に，その間にL日間隔で何回行くかという
ラベルがついていると考えて，遷移を何回行う間に食堂に行く回数が何回に
なるかを考える．これはダブリングを用いて対数時間で計算できる．好みの
料理を最初に食べるまでの前処理部分は必要．
