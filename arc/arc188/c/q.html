







<!DOCTYPE html>
<html>
<head>
	<title>C - Honest or Liar or Confused</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta http-equiv="Content-Language" content="en">
	<meta name="viewport" content="width=device-width,initial-scale=1.0">
	<meta name="format-detection" content="telephone=no">
	<meta name="google-site-verification" content="nXGC_JxO0yoP1qBzMnYD_xgufO6leSLw1kyNo2HZltM" />

	
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-RC512FD18N"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());
		gtag('set', 'user_properties', {
			
				'login_status': 'logged_in',
			
		});
		gtag('config', 'G-RC512FD18N');
	</script>

	
	<meta name="description" content="AtCoder is a programming contest site for anyone from beginners to experts. We hold weekly programming contests online.">
	<meta name="author" content="AtCoder Inc.">

	<meta property="og:site_name" content="AtCoder">
	
	<meta property="og:title" content="C - Honest or Liar or Confused" />
	<meta property="og:description" content="AtCoder is a programming contest site for anyone from beginners to experts. We hold weekly programming contests online." />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="https://atcoder.jp/contests/arc188/tasks/arc188_c" />
	<meta property="og:image" content="https://img.atcoder.jp/assets/atcoder.png" />
	<meta name="twitter:card" content="summary" />
	<meta name="twitter:site" content="@atcoder" />
	
	<meta property="twitter:title" content="C - Honest or Liar or Confused" />

	<link href="//fonts.googleapis.com/css?family=Lato:400,700" rel="stylesheet" type="text/css">
	<link rel="stylesheet" type="text/css" href="//img.atcoder.jp/public/c84259b/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="//img.atcoder.jp/public/c84259b/css/base.css">
	<link rel="shortcut icon" type="image/png" href="//img.atcoder.jp/assets/favicon.png">
	<link rel="apple-touch-icon" href="//img.atcoder.jp/assets/atcoder.png">
	<script src="//img.atcoder.jp/public/c84259b/js/lib/jquery-1.9.1.min.js"></script>
	<script src="//img.atcoder.jp/public/c84259b/js/lib/bootstrap.min.js"></script>
	<script src="//img.atcoder.jp/public/c84259b/js/cdn/js.cookie.min.js"></script>
	<script src="//img.atcoder.jp/public/c84259b/js/cdn/moment.min.js"></script>
	<script src="//img.atcoder.jp/public/c84259b/js/cdn/moment_js-ja.js"></script>
	<script>
		var LANG = "en";
		var userScreenName = "yamate11";
		var csrfToken = "hvYdp1OMT2ixvmwTnLuIrcEhBUMOSoNwTwW99KtVFxg="
	</script>
	<script src="//img.atcoder.jp/public/c84259b/js/utils.js"></script>
	
	
		<script src="//img.atcoder.jp/public/c84259b/js/contest.js"></script>
		<link href="//img.atcoder.jp/public/c84259b/css/contest.css" rel="stylesheet" />
		<script>
			var contestScreenName = "arc188";
			var remainingText = "Remaining Time";
			var countDownText = "Contest begins in";
			var startTime = moment("2024-11-23T21:00:00+09:00");
			var endTime = moment("2024-11-23T23:00:00+09:00");
		</script>
		<style></style>
	
	
		<link href="//img.atcoder.jp/public/c84259b/css/cdn/select2.min.css" rel="stylesheet" />
		<link href="//img.atcoder.jp/public/c84259b/css/cdn/select2-bootstrap.min.css" rel="stylesheet" />
		<script src="//img.atcoder.jp/public/c84259b/js/lib/select2.min.js"></script>
	
	
		<script src="//img.atcoder.jp/public/c84259b/js/ace/ace.js"></script>
		<script src="//img.atcoder.jp/public/c84259b/js/ace/ext-language_tools.js"></script>
	
	
		<script src="//img.atcoder.jp/public/c84259b/js/cdn/run_prettify.js"></script>
	
	
		<link rel="stylesheet" href="//img.atcoder.jp/public/c84259b/css/cdn/katex.min.css">
		<script defer src="//img.atcoder.jp/public/c84259b/js/cdn/katex.min.js"></script>
		<script defer src="//img.atcoder.jp/public/c84259b/js/cdn/auto-render.min.js"></script>
		<script>$(function(){$('var').each(function(){var html=$(this).html().replace(/<sub>/g,'_{').replace(/<\/sub>/g,'}');$(this).html('\\('+html+'\\)');});});</script>
		<script>
			var katexOptions = {
				delimiters: [
					{left: "$$", right: "$$", display: true},
					
					{left: "\\(", right: "\\)", display: false},
					{left: "\\[", right: "\\]", display: true}
				],
      	ignoredTags: ["script", "noscript", "style", "textarea", "code", "option"],
				ignoredClasses: ["prettyprint", "source-code-for-copy"],
				throwOnError: false
			};
			document.addEventListener("DOMContentLoaded", function() { renderMathInElement(document.body, katexOptions);});
		</script>
	
	
	
	
	
	
	
	
	
	<script src="//img.atcoder.jp/public/c84259b/js/base.js"></script>
</head>

<body>

<script type="text/javascript">
	var __pParams = __pParams || [];
	__pParams.push({client_id: '468', c_1: 'atcodercontest', c_2: 'ClientSite'});
</script>
<script type="text/javascript" src="https://cdn.d2-apps.net/js/tr.js" async></script>


<div id="modal-contest-start" class="modal fade" tabindex="-1" role="dialog">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h4 class="modal-title">Contest started</h4>
			</div>
			<div class="modal-body">
				<p>estie Programming Contest 2024 (AtCoder Regular Contest 188) has begun.</p>
			</div>
			<div class="modal-footer">
				
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				
			</div>
		</div>
	</div>
</div>
<div id="modal-contest-end" class="modal fade" tabindex="-1" role="dialog">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h4 class="modal-title">Contest is over</h4>
			</div>
			<div class="modal-body">
				<p>estie Programming Contest 2024 (AtCoder Regular Contest 188) has ended.</p>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
</div>
<div id="main-div" class="float-container">


	<nav class="navbar navbar-inverse navbar-fixed-top">
		<div class="container-fluid">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
					<span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="/home"></a>
			</div>
			<div class="collapse navbar-collapse" id="navbar-collapse">
				<ul class="nav navbar-nav">
				
					<li><a class="contest-title" href="/contests/arc188">estie Programming Contest 2024 (AtCoder Regular Contest 188)</a></li>
				
				</ul>
				<ul class="nav navbar-nav navbar-right">
					
					<li class="dropdown">
						<a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
							<img src='//img.atcoder.jp/assets/top/img/flag-lang/en.png'> English <span class="caret"></span>
						</a>
						<ul class="dropdown-menu">
							<li><a href="/contests/arc188/tasks/arc188_c?lang=ja"><img src='//img.atcoder.jp/assets/top/img/flag-lang/ja.png'> 日本語</a></li>
							<li><a href="/contests/arc188/tasks/arc188_c?lang=en"><img src='//img.atcoder.jp/assets/top/img/flag-lang/en.png'> English</a></li>
						</ul>
					</li>
					
					
						<li class="dropdown">
							<a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
								<span class="glyphicon glyphicon-cog" aria-hidden="true"></span> yamate11 (Guest) <span class="caret"></span>
							</a>
							<ul class="dropdown-menu">
								<li><a href="/users/yamate11"><span class="glyphicon glyphicon-user" aria-hidden="true"></span> My Profile</a></li>
								<li class="divider"></li>
								<li><a href="/settings"><span class="glyphicon glyphicon-wrench" aria-hidden="true"></span> General Settings</a></li>
								<li><a href="/settings/icon"><span class="glyphicon glyphicon-picture" aria-hidden="true"></span> Change Photo</a></li>
								<li><a href="/settings/password"><span class="glyphicon glyphicon-lock" aria-hidden="true"></span> Change Password</a></li>
								<li><a href="/settings/fav"><span class="glyphicon glyphicon-star" aria-hidden="true"></span> Manage Fav</a></li>
								
								
								
								<li class="divider"></li>
								<li><a href="javascript:void(form_logout.submit())"><span class="glyphicon glyphicon-log-out" aria-hidden="true"></span> Sign Out</a></li>
							</ul>
						</li>
					
				</ul>
			</div>
		</div>
	</nav>

	<form method="POST" name="form_logout" action="/logout?continue=https%3A%2F%2Fatcoder.jp%2Fcontests%2Farc188%2Ftasks%2Farc188_c">
		<input type="hidden" name="csrf_token" value="hvYdp1OMT2ixvmwTnLuIrcEhBUMOSoNwTwW99KtVFxg=" />
	</form>
	<div id="main-container" class="container"
		 	style="padding-top:50px;">
		


<div class="row">
	<div id="contest-nav-tabs" class="col-sm-12 mb-2 cnvtb-fixed">
	<div>
		<small class="contest-duration">
			
				Contest Duration:
				<a href='http://www.timeanddate.com/worldclock/fixedtime.html?iso=20241123T2100&p1=248' target='blank'><time class='fixtime fixtime-full'>2024-11-23 21:00:00+0900</time></a> - <a href='http://www.timeanddate.com/worldclock/fixedtime.html?iso=20241123T2300&p1=248' target='blank'><time class='fixtime fixtime-full'>2024-11-23 23:00:00+0900</time></a> (local time)
				(120 minutes)
			
		</small>
		<small class="back-to-home pull-right"><a href="/home">Back to Home</a></small>
	</div>
	<ul class="nav nav-tabs">
		<li><a href="/contests/arc188"><span class="glyphicon glyphicon-home" aria-hidden="true"></span> Top</a></li>
		
			<li class="active"><a href="/contests/arc188/tasks"><span class="glyphicon glyphicon-tasks" aria-hidden="true"></span> Tasks</a></li>
		

		
			<li><a href="/contests/arc188/clarifications"><span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span> Clarifications <span id="clar-badge" class="badge" ></span></a></li>
		

		
			<li><a href="/contests/arc188/submit?taskScreenName=arc188_c"><span class="glyphicon glyphicon-send" aria-hidden="true"></span> Submit</a></li>
		

		
			<li>
				<a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false"><span class="glyphicon glyphicon-list" aria-hidden="true"></span> Results<span class="caret"></span></a>
				<ul class="dropdown-menu">
					<li><a href="/contests/arc188/submissions"><span class="glyphicon glyphicon-globe" aria-hidden="true"></span> All Submissions</a></li>
					
						<li><a href="/contests/arc188/submissions/me"><span class="glyphicon glyphicon-user" aria-hidden="true"></span> My Submissions</a></li>
						
						<li class="divider"></li>
						<li><a href="/contests/arc188/score"><span class="glyphicon glyphicon-dashboard" aria-hidden="true"></span> My Score</a></li>
					
				</ul>
			</li>
		

		
			
				
					<li><a href="/contests/arc188/standings"><span class="glyphicon glyphicon-sort-by-attributes-alt" aria-hidden="true"></span> Standings</a></li>
				
			
				
					<li><a href="/contests/arc188/standings/virtual"><span class="glyphicon glyphicon-sort-by-attributes-alt" aria-hidden="true"></span> Virtual Standings</a></li>
				
			
		

		
			<li><a href="/contests/arc188/custom_test"><span class="glyphicon glyphicon-wrench" aria-hidden="true"></span> Custom Test</a></li>
		

		
			<li><a href="/contests/arc188/editorial"><span class="glyphicon glyphicon-book" aria-hidden="true"></span> Editorial</a></li>
		
		
			
			
				<li><a href="https://codeforces.com/blog/entry/136473" target="_blank" rel="noopener"><span class="glyphicon glyphicon-comment" aria-hidden="true"></span> Discuss</a></li>
			
		

		<li class="pull-right"><a id="fix-cnvtb" href="javascript:void(0)"><span class="glyphicon glyphicon-pushpin" aria-hidden="true"></span></a></li>
	</ul>
</div>
	<div class="col-sm-12">
		<span class="h2">
			C - Honest or Liar or Confused
			<a class="btn btn-default btn-sm" href="/contests/arc188/tasks/arc188_c/editorial">Editorial</a>
		</span>
		<span id="task-lang-btn" class="pull-right"><span data-lang="ja"><img src='//img.atcoder.jp/assets/top/img/flag-lang/ja.png'></span> / <span data-lang="en"><img src='//img.atcoder.jp/assets/top/img/flag-lang/en.png'></span></span>
		<script>
			$(function() {
				var ts = $('#task-statement span.lang');
				if (ts.children('span').size() <= 1) {
					$('#task-lang-btn').hide();
					ts.children('span').show();
					return;
				}
				var REMEMBER_LB = 5;
				var LS_KEY = 'task_lang';
				var taskLang = getLS(LS_KEY) || '';
				var changeTimes = 0;
				if (taskLang == 'ja' || taskLang == 'en') {
					changeTimes = REMEMBER_LB;
				} else {
					var changeTimes = parseInt(taskLang, 10);
					if (isNaN(changeTimes)) {
						changeTimes = 0;
						delLS(LS_KEY);
					}
					changeTimes++;
					taskLang = LANG;
				}
				ts.children('span.lang-' + taskLang).show();

				$('#task-lang-btn span').click(function() {
					var l = $(this).data('lang');
					ts.children('span').hide();
					ts.children('span.lang-' + l).show();
					if (changeTimes < REMEMBER_LB) setLS(LS_KEY, changeTimes);
					else setLS(LS_KEY, l);
				});
			});
		</script>
		<hr/>
		<p>
			Time Limit: 2 sec / Memory Limit: 1024 MB
			
			
		</p>

		<div id="task-statement">
			


	
	

			<span class="lang">
<span class="lang-ja">
<p>配点 : <var>700</var> 点</p>

<div class="part">
<section>
<h3>問題文</h3><p><var>1</var> から <var>N</var> までの番号がついた <var>N</var> 人の村人が住む村があります。
各村人は、正直者であるか嘘つきであるかのどちらかです。また、村人のうち何人かは混乱しています。</p>
<p>あなたは、村人による証言を <var>M</var> 個手に入れました。この証言は、<var>i=1,2, \ldots ,M</var> に対して <var>A_i, B_i, C_i</var> で与えられ、</p>
<ul>
<li><var>C_i=0</var> であれば、村人 <var>A_i</var> が村人 <var>B_i</var> を正直者であると証言したこと</li>
<li><var>C_i=1</var> であれば、村人 <var>A_i</var> が村人 <var>B_i</var> を嘘つきであると証言したこと</li>
</ul>
<p>を表します。</p>
<p>全ての村人は、他の全ての村人について正直者と嘘つきのどちらであるかを知っており、あなたに対して次のような規則で証言を行ったことが分かっています。</p>
<ul>
<li>混乱していない正直者は必ず正しい証言をする。</li>
<li>混乱していない嘘つきは必ず嘘の証言をする。</li>
<li>混乱している正直者は必ず嘘の証言をする。</li>
<li>混乱している嘘つきは必ず正しい証言をする。</li>
</ul>
<p>すなわち、混乱していなければ正直者は正しい証言を、嘘つきは嘘の証言をしますが、混乱していると逆になります。</p>
<p>あなたは<strong>混乱している村人の組</strong>を予想することにしました。
混乱している村人の組を決めると、与えられた <var>M</var> 個の証言からなる証言の組が「矛盾する」かどうかが定まります。
ここで、証言の組が「矛盾する」というのは、各村人が正直者であるか嘘つきであるかをどのように決めても、証言の組の中に、村人が行う証言の規則に反するものが存在することを意味します。</p>
<p>与えられた証言の組が矛盾しないような<strong>混乱している村人の組</strong>を <var>1</var> つ見つけてください。
ただし、どのような村人の組が混乱しているとしても与えられた証言の組が矛盾する場合は、そのことを指摘してください。</p>
</section>
</div>

<div class="part">
<section>
<h3>制約</h3><ul>
<li><var>2 \leq N \leq 2 \times 10^5</var></li>
<li><var>0 \leq M \leq \mathrm{min} \lbrace 2 \times 10^5,N(N-1) \rbrace </var></li>
<li><var>1 \leq A_i, B_i \leq N, A_i \neq B_i</var></li>
<li><var>i\neq j</var> のとき <var>A_i\neq A_j</var> または <var>B_i\neq B_j</var></li>
<li><var>C_i=0</var> または <var>C_i=1</var></li>
<li>入力される値はすべて整数である</li>
</ul>
</section>
</div>

<hr />
<div class="io-style">
<div class="part">
<section>
<h3>入力</h3><p>入力は以下の形式で標準入力から与えられる。</p>
<pre><var>N</var> <var>M</var>
<var>A_1</var> <var>B_1</var> <var>C_1</var>
<var>A_2</var> <var>B_2</var> <var>C_2</var>
<var>\vdots</var>
<var>A_M</var> <var>B_M</var> <var>C_M</var>
</pre>

</section>
</div>

<div class="part">
<section>
<h3>出力</h3><p>与えられた証言の組が矛盾しないような混乱している村人の組が存在するとき、混乱している村人の組を表す長さ <var>N</var> の文字列を出力せよ。このとき出力される文字列では、村人 <var>i</var> が混乱している場合 <var>i</var> 文字目が <code>1</code>、そうでない場合 <var>i</var> 文字目が <code>0</code> であるようにせよ。</p>
<p>そのような混乱している村人の組が存在しないとき、<code>-1</code> と出力せよ。</p>
</section>
</div>
</div>

<hr />
<div class="part">
<section>
<h3>入力例 1</h3><pre>3 3
1 2 1
1 3 0
2 3 0
</pre>

</section>
</div>

<div class="part">
<section>
<h3>出力例 1</h3><pre>010
</pre>

<p>村人 <var>1</var> が混乱していない正直者、村人 <var>2</var> が混乱している嘘つき、村人 <var>3</var> が混乱していない正直者であると仮定します。</p>
<p>このとき、村人 <var>1</var> は、村人 <var>2</var> が嘘つきである、村人 <var>3</var> が正直者であると正しい証言をします。
また、村人 <var>2</var> は嘘つきですが混乱しているため、村人 <var>3</var> が正直者であると正しい証言をします。</p>
<p>したがって、与えられた証言が全て村人の証言の規則通りに得られるため、村人 <var>2</var> のみ混乱していることを表す <code>010</code> は正当な出力の <var>1</var> つです。</p>
</section>
</div>

<hr />
<div class="part">
<section>
<h3>入力例 2</h3><pre>3 6
1 2 1
1 3 0
2 1 1
2 3 0
3 1 1
3 2 0
</pre>

</section>
</div>

<div class="part">
<section>
<h3>出力例 2</h3><pre>-1
</pre>

<p>村人 <var>2,3</var> が混乱していると仮定してみます。</p>
<p>このとき、各村人が正直者であるかどうかについて <var>2^3=8</var> 通りの組み合わせがあります。
このうち、例えば、「村人 <var>1</var> が（混乱していない）正直者、村人 <var>2</var> が（混乱している）嘘つき、村人 <var>3</var> が（混乱している）正直者」であるとすると、村人 <var>2</var> は規則によれば正しい証言をするはずですが、村人 <var>1</var> を嘘つきであると嘘の証言をしています。
他の組み合わせに対しても、同様に規則に反する証言が生じることを確認できます。</p>
<p>したがって、村人 <var>2,3</var> が混乱しているとすると、与えられた証言の組は矛盾します。</p>
<p>実は、このケースでは、どのような村人の組が混乱しているとしても与えられた証言の組は矛盾します。</p>
</section>
</div>

<hr />
<div class="part">
<section>
<h3>入力例 3</h3><pre>3 0
</pre>

</section>
</div>

<div class="part">
<section>
<h3>出力例 3</h3><pre>000
</pre>

<p>混乱している人数は任意であり、題意の条件が満たされるならば <var>0</var> 人や全員でもよいです。</p></section>
</div>
</span>
<span class="lang-en">
<p>Score : <var>700</var> points</p>

<div class="part">
<section>
<h3>Problem Statement</h3><p>There is a village with <var>N</var> villagers numbered from <var>1</var> to <var>N</var>.
Each villager is honest or a liar. Additionally, some villagers are confused.</p>
<p>You have obtained <var>M</var> testimonies from the villagers. Each testimony is given by <var>A_i</var>, <var>B_i</var>, <var>C_i</var> for <var>i=1,2,\ldots,M</var>, representing:</p>
<ul>
<li>If <var>C_i=0</var>, villager <var>A_i</var> testified that villager <var>B_i</var> is honest.</li>
<li>If <var>C_i=1</var>, villager <var>A_i</var> testified that villager <var>B_i</var> is a liar.</li>
</ul>
<p>All villagers know whether every other villager is honest or a liar, and you know that they made their testimonies to you according to the following rules:</p>
<ul>
<li>An honest villager who is not confused always tells the truth.</li>
<li>A liar who is not confused always tells lies.</li>
<li>A confused honest villager always tells lies.</li>
<li>A confused liar always tells the truth.</li>
</ul>
<p>In other words, if they are not confused, honest villagers always tell the truth, and liars always tell lies, but if they are confused, it is reversed.</p>
<p>You have decided to guess the set of villagers who are confused.
Given a choice of villagers who are confused, whether the set of testimonies "contradicts" or not is determined.
Here, a set of testimonies is said to contradict if, no matter how you assign honest or liar statuses to the villagers, there is at least one testimony that violates the villagers' testimony rules.</p>
<p>Find a set of confused villagers such that the given set of testimonies does not contradict.
If no such set of confused villagers exists, indicate that fact.</p>
</section>
</div>

<div class="part">
<section>
<h3>Constraints</h3><ul>
<li><var>2 \leq N \leq 2 \times 10^5</var></li>
<li><var>0 \leq M \leq \mathrm{min} \lbrace 2 \times 10^5,N(N-1) \rbrace </var></li>
<li><var>1 \leq A_i, B_i \leq N</var>, <var>A_i \neq B_i</var></li>
<li><var>A_i \neq A_j</var> or <var>B_i \neq B_j</var> for <var>i \neq j</var>.</li>
<li><var>C_i = 0</var> or <var>1</var>.</li>
<li>All input values are integers.</li>
</ul>
</section>
</div>

<hr />
<div class="io-style">
<div class="part">
<section>
<h3>Input</h3><p>The input is given from Standard Input in the following format:</p>
<pre><var>N</var> <var>M</var>
<var>A_1</var> <var>B_1</var> <var>C_1</var>
<var>A_2</var> <var>B_2</var> <var>C_2</var>
<var>\vdots</var>
<var>A_M</var> <var>B_M</var> <var>C_M</var>
</pre>

</section>
</div>

<div class="part">
<section>
<h3>Output</h3><p>If there exists a set of confused villagers such that the given set of testimonies does not contradict, print a string of length <var>N</var> representing the set of confused villagers. In this string, the <var>i</var>-th character should be <code>1</code> if villager <var>i</var> is confused, and <code>0</code> otherwise.</p>
<p>If no such set of confused villagers exists, print <code>-1</code>.</p>
</section>
</div>
</div>

<hr />
<div class="part">
<section>
<h3>Sample Input 1</h3><pre>3 3
1 2 1
1 3 0
2 3 0
</pre>

</section>
</div>

<div class="part">
<section>
<h3>Sample Output 1</h3><pre>010
</pre>

<p>Suppose villager <var>1</var> is an honest villager who is not confused, villager <var>2</var> is a confused liar, and villager <var>3</var> is an honest villager who is not confused.</p>
<p>In this case, villager <var>1</var> correctly testifies that villager <var>2</var> is a liar and villager <var>3</var> is honest.
Also, villager <var>2</var>, who is a liar but confused, tells the truth and testifies that villager <var>3</var> is honest.</p>
<p>Therefore, all given testimonies are consistent with the villagers' testimony rules, so <code>010</code>, indicating that only villager <var>2</var> is confused, is one valid output.</p>
</section>
</div>

<hr />
<div class="part">
<section>
<h3>Sample Input 2</h3><pre>3 6
1 2 1
1 3 0
2 1 1
2 3 0
3 1 1
3 2 0
</pre>

</section>
</div>

<div class="part">
<section>
<h3>Sample Output 2</h3><pre>-1
</pre>

<p>Suppose villagers <var>2</var> and <var>3</var> are confused.</p>
<p>In this case, there are <var>2^3=8</var> possible combinations for whether each villager is honest or a liar.
Among them, for example, if villager <var>1</var> is an honest villager who is not confused, villager <var>2</var> is a confused liar, and villager <var>3</var> is a confused honest villager, then according to the rules, villager <var>2</var> should tell the truth, but they falsely testify that villager <var>1</var> is a liar.</p>
<p>You can confirm that also in other combinations, there will be some testimonies that violate the rules.</p>
<p>Therefore, if villagers <var>2</var> and <var>3</var> are confused, the given set of testimonies contradicts.</p>
<p>In fact, in this test case, no matter which villagers are confused, the given set of testimonies contradicts.</p>
</section>
</div>

<hr />
<div class="part">
<section>
<h3>Sample Input 3</h3><pre>3 0
</pre>

</section>
</div>

<div class="part">
<section>
<h3>Sample Output 3</h3><pre>000
</pre>

<p>There may be any number of confused villagers, possibly zero or all.</p></section>
</div>
</span>
</span>

		</div>

		

		
		<hr/>
		<form class="form-horizontal form-code-submit" action="/contests/arc188/submit" method="POST">
			<input type="hidden" name="data.TaskScreenName" value="arc188_c" />
			
			<div class="form-group ">
				<label class="control-label col-sm-3 col-md-2" for="select-lang">Language</label>
				<div id="select-lang" class="col-sm-5" data-name="data.LanguageId">
					<select class="form-control current" data-placeholder="-" name="data.LanguageId" required>
						<option></option>
						
							<option value="5001" data-ace-mode="c_cpp">C&#43;&#43; 20 (gcc 12.2)</option>
						
							<option value="5002" data-ace-mode="golang">Go (go 1.20.6)</option>
						
							<option value="5003" data-ace-mode="csharp">C# 11.0 (.NET 7.0.7)</option>
						
							<option value="5004" data-ace-mode="kotlin">Kotlin (Kotlin/JVM 1.8.20)</option>
						
							<option value="5005" data-ace-mode="java">Java (OpenJDK 17)</option>
						
							<option value="5006" data-ace-mode="nim">Nim (Nim 1.6.14)</option>
						
							<option value="5007" data-ace-mode="text">V (V 0.4)</option>
						
							<option value="5008" data-ace-mode="text">Zig (Zig 0.10.1)</option>
						
							<option value="5009" data-ace-mode="javascript">JavaScript (Node.js 18.16.1)</option>
						
							<option value="5010" data-ace-mode="javascript">JavaScript (Deno 1.35.1)</option>
						
							<option value="5011" data-ace-mode="r">R (GNU R 4.2.1)</option>
						
							<option value="5012" data-ace-mode="d">D (DMD 2.104.0)</option>
						
							<option value="5013" data-ace-mode="d">D (LDC 1.32.2)</option>
						
							<option value="5014" data-ace-mode="swift">Swift (swift 5.8.1)</option>
						
							<option value="5015" data-ace-mode="dart">Dart (Dart 3.0.5)</option>
						
							<option value="5016" data-ace-mode="php">PHP (php 8.2.8)</option>
						
							<option value="5017" data-ace-mode="c_cpp">C (gcc 12.2.0)</option>
						
							<option value="5018" data-ace-mode="ruby">Ruby (ruby 3.2.2)</option>
						
							<option value="5019" data-ace-mode="crystal">Crystal (Crystal 1.9.1)</option>
						
							<option value="5020" data-ace-mode="text">Brainfuck (bf 20041219)</option>
						
							<option value="5021" data-ace-mode="fsharp">F# 7.0 (.NET 7.0.7)</option>
						
							<option value="5022" data-ace-mode="julia">Julia (Julia 1.9.2)</option>
						
							<option value="5023" data-ace-mode="sh">Bash (bash 5.2.2)</option>
						
							<option value="5024" data-ace-mode="text">Text (cat 8.32)</option>
						
							<option value="5025" data-ace-mode="haskell">Haskell (GHC 9.4.5)</option>
						
							<option value="5026" data-ace-mode="fortran">Fortran (gfortran 12.2)</option>
						
							<option value="5027" data-ace-mode="lua">Lua (LuaJIT 2.1.0-beta3)</option>
						
							<option value="5028" data-ace-mode="c_cpp">C&#43;&#43; 23 (gcc 12.2)</option>
						
							<option value="5029" data-ace-mode="lisp">Common Lisp (SBCL 2.3.6)</option>
						
							<option value="5030" data-ace-mode="cobol">COBOL (Free) (GnuCOBOL 3.1.2)</option>
						
							<option value="5031" data-ace-mode="c_cpp">C&#43;&#43; 23 (Clang 16.0.6)</option>
						
							<option value="5032" data-ace-mode="sh">Zsh (Zsh 5.9)</option>
						
							<option value="5033" data-ace-mode="python">SageMath (SageMath 9.5)</option>
						
							<option value="5034" data-ace-mode="sh">Sed (GNU sed 4.8)</option>
						
							<option value="5035" data-ace-mode="text">bc (bc 1.07.1)</option>
						
							<option value="5036" data-ace-mode="text">dc (dc 1.07.1)</option>
						
							<option value="5037" data-ace-mode="perl">Perl (perl  5.34)</option>
						
							<option value="5038" data-ace-mode="sh">AWK (GNU Awk 5.0.1)</option>
						
							<option value="5039" data-ace-mode="text">なでしこ (cnako3 3.4.20)</option>
						
							<option value="5040" data-ace-mode="text">Assembly x64 (NASM 2.15.05)</option>
						
							<option value="5041" data-ace-mode="pascal">Pascal (fpc 3.2.2)</option>
						
							<option value="5042" data-ace-mode="csharp">C# 11.0 AOT (.NET 7.0.7)</option>
						
							<option value="5043" data-ace-mode="lua">Lua (Lua 5.4.6)</option>
						
							<option value="5044" data-ace-mode="prolog">Prolog (SWI-Prolog 9.0.4)</option>
						
							<option value="5045" data-ace-mode="sh">PowerShell (PowerShell 7.3.1)</option>
						
							<option value="5046" data-ace-mode="scheme">Scheme (Gauche 0.9.12)</option>
						
							<option value="5047" data-ace-mode="scala">Scala 3.3.0 (Scala Native 0.4.14)</option>
						
							<option value="5048" data-ace-mode="vbscript">Visual Basic 16.9 (.NET 7.0.7)</option>
						
							<option value="5049" data-ace-mode="text">Forth (gforth 0.7.3)</option>
						
							<option value="5050" data-ace-mode="clojure">Clojure (babashka 1.3.181)</option>
						
							<option value="5051" data-ace-mode="erlang">Erlang (Erlang 26.0.2)</option>
						
							<option value="5052" data-ace-mode="typescript">TypeScript 5.1 (Deno 1.35.1)</option>
						
							<option value="5053" data-ace-mode="c_cpp">C&#43;&#43; 17 (gcc 12.2)</option>
						
							<option value="5054" data-ace-mode="rust">Rust (rustc 1.70.0)</option>
						
							<option value="5055" data-ace-mode="python">Python (CPython 3.11.4)</option>
						
							<option value="5056" data-ace-mode="scala">Scala (Dotty 3.3.0)</option>
						
							<option value="5057" data-ace-mode="text">Koka (koka 2.4.0)</option>
						
							<option value="5058" data-ace-mode="typescript">TypeScript 5.1 (Node.js 18.16.1)</option>
						
							<option value="5059" data-ace-mode="ocaml">OCaml (ocamlopt 5.0.0)</option>
						
							<option value="5060" data-ace-mode="raku">Raku (Rakudo 2023.06)</option>
						
							<option value="5061" data-ace-mode="text">Vim (vim 9.0.0242)</option>
						
							<option value="5062" data-ace-mode="lisp">Emacs Lisp (Native Compile) (GNU Emacs 28.2)</option>
						
							<option value="5063" data-ace-mode="python">Python (Mambaforge / CPython 3.10.10)</option>
						
							<option value="5064" data-ace-mode="clojure">Clojure (clojure 1.11.1)</option>
						
							<option value="5065" data-ace-mode="text">プロデル (mono版プロデル 1.9.1182)</option>
						
							<option value="5066" data-ace-mode="text">ECLiPSe (ECLiPSe 7.1_13)</option>
						
							<option value="5067" data-ace-mode="text">Nibbles (literate form) (nibbles 1.01)</option>
						
							<option value="5068" data-ace-mode="ada">Ada (GNAT 12.2)</option>
						
							<option value="5069" data-ace-mode="text">jq (jq 1.6)</option>
						
							<option value="5070" data-ace-mode="text">Cyber (Cyber v0.2-Latest)</option>
						
							<option value="5071" data-ace-mode="clojure">Carp (Carp 0.5.5)</option>
						
							<option value="5072" data-ace-mode="c_cpp">C&#43;&#43; 17 (Clang 16.0.6)</option>
						
							<option value="5073" data-ace-mode="c_cpp">C&#43;&#43; 20 (Clang 16.0.6)</option>
						
							<option value="5074" data-ace-mode="text">LLVM IR (Clang 16.0.6)</option>
						
							<option value="5075" data-ace-mode="lisp">Emacs Lisp (Byte Compile) (GNU Emacs 28.2)</option>
						
							<option value="5076" data-ace-mode="text">Factor (Factor 0.98)</option>
						
							<option value="5077" data-ace-mode="d">D (GDC 12.2)</option>
						
							<option value="5078" data-ace-mode="python">Python (PyPy 3.10-v7.3.12)</option>
						
							<option value="5079" data-ace-mode="text">Whitespace (whitespacers 1.0.0)</option>
						
							<option value="5080" data-ace-mode="text">&gt;&lt;&gt; (fishr 0.1.0)</option>
						
							<option value="5081" data-ace-mode="ocaml">ReasonML (reason 3.9.0)</option>
						
							<option value="5082" data-ace-mode="python">Python (Cython 0.29.34)</option>
						
							<option value="5083" data-ace-mode="matlab">Octave (GNU Octave 8.2.0)</option>
						
							<option value="5084" data-ace-mode="haxe">Haxe (JVM) (Haxe 4.3.1)</option>
						
							<option value="5085" data-ace-mode="elixir">Elixir (Elixir 1.15.2)</option>
						
							<option value="5086" data-ace-mode="text">Mercury (Mercury 22.01.6)</option>
						
							<option value="5087" data-ace-mode="text">Seed7 (Seed7 3.2.1)</option>
						
							<option value="5088" data-ace-mode="lisp">Emacs Lisp (No Compile) (GNU Emacs 28.2)</option>
						
							<option value="5089" data-ace-mode="text">Unison (Unison M5b)</option>
						
							<option value="5090" data-ace-mode="cobol">COBOL (GnuCOBOL(Fixed) 3.1.2)</option>
						
					</select>
					<span class="error"></span>
				</div>
			</div>
			<script>var currentLang = getLS('defaultLang');</script>
			
			
<div class="form-group">
	<div class="col-sm-3 col-md-2 editor-label">
		<label class="control-label" for="sourceCode">Source Code</label>
		<div class="editor-buttons">
			<button id="btn-open-file" type="button" class="btn btn-default btn-sm">
				<span class="glyphicon glyphicon-folder-open" aria-hidden="true"></span> &nbsp; Open File
			</button>
			<button id="btn-customize" type="button" class="btn btn-default btn-sm">
				<span class="glyphicon glyphicon-cog" aria-hidden="true"></span> &nbsp; Customize
			</button>
			<button type="button" class="btn btn-default btn-sm btn-toggle-editor" data-toggle="button" autocomplete="off">
				Toggle Editor
			</button>
			<button type="button" class="btn btn-default btn-sm btn-auto-height" data-toggle="button" autocomplete="off">
				Auto Height
			</button>
		</div>
	</div>
	<div class="col-sm-9 col-md-10" id="sourceCode">
		<div id="editor"></div>
		<textarea id="plain-textarea" class="form-control" style="display:none;" name="sourceCode"></textarea>
		<p>
			<span class="gray">* at most 512 KiB</span><br>
			<span class="gray">* Your source code will be saved as Main.<i>extension</i>.</span>
		</p>
	</div>
	<input id="input-open-file" type="file" style="display:none;">
</div>


			<input type="hidden" name="csrf_token" value="hvYdp1OMT2ixvmwTnLuIrcEhBUMOSoNwTwW99KtVFxg=" />
			<div class="form-group">
				<label class="control-label col-sm-3 col-md-2"></label>
				<div class="col-sm-5">
					<button type="submit" class="btn btn-primary" id="submit">Submit</button>
				</div>
			</div>
		</form>
		
	</div>
</div>




		
			<hr>
			
			
			
<div class="a2a_kit a2a_kit_size_20 a2a_default_style pull-right" data-a2a-url="https://atcoder.jp/contests/arc188/tasks/arc188_c?lang=en" data-a2a-title="C - Honest or Liar or Confused">
	<a class="a2a_button_facebook"></a>
	<a class="a2a_button_twitter"></a>
	
		<a class="a2a_button_telegram"></a>
	
	<a class="a2a_dd" href="https://www.addtoany.com/share"></a>
</div>

		
		<script async src="//static.addtoany.com/menu/page.js"></script>
		
	</div> 
	<hr>
</div> 

	<div class="container" style="margin-bottom: 80px;">
			<footer class="footer">
			
				<ul>
					<li><a href="/contests/arc188/rules">Rule</a></li>
					<li><a href="/contests/arc188/glossary">Glossary</a></li>
					
				</ul>
			
			<ul>
				<li><a href="/tos">Terms of service</a></li>
				<li><a href="/privacy">Privacy Policy</a></li>
				<li><a href="/personal">Information Protection Policy</a></li>
				<li><a href="/company">Company</a></li>
				<li><a href="/faq">FAQ</a></li>
				<li><a href="/contact">Contact</a></li>
				
			</ul>
			<div class="text-center">
					<small id="copyright">Copyright Since 2012 &copy;<a href="http://atcoder.co.jp">AtCoder Inc.</a> All rights reserved.</small>
			</div>
			</footer>
	</div>
	<p id="fixed-server-timer" class="contest-timer"></p>
	<div id="scroll-page-top" style="display:none;"><span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span> Page Top</div>

</body>
</html>


